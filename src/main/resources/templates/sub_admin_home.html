<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="_csrf" id="_csrf" th:content="${_csrf.token}" />
        <meta name="_csrf_header" id="_csrf_header" th:content="${_csrf.headerName}" />
<title>Shri Gautam Construction - Inventory</title>
<!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css">


<!-- jQuery library -->
<script src="https://cdn.jsdelivr.net/npm/jquery@3.7.1/dist/jquery.slim.min.js"></script>

<!-- Popper JS -->
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>

<!-- Latest compiled JavaScript -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js"></script>

<script src="https://kit.fontawesome.com/c1a8a4a3ac.js" crossorigin="anonymous"></script>
<script type = "text/javascript"
			 src = "https://code.jquery.com/jquery-2.1.3.min.js"></script>
		<script src="//code.jquery.com/ui/1.11.4/jquery-ui.js"></script>
		
<!-- 		
<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.21/css/jquery.dataTables.css">

<script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/1.10.21/js/jquery.dataTables.js"></script>

-->
<!-- DataTables CSS -->
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.11.5/css/jquery.dataTables.min.css">
    <!-- DataTables JS -->
    <script type="text/javascript" src="https://cdn.datatables.net/1.11.5/js/jquery.dataTables.min.js"></script>
    <!-- Buttons extension CSS -->
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/buttons/2.2.2/css/buttons.dataTables.min.css">
    <!-- Buttons extension JS -->
    <script type="text/javascript" src="https://cdn.datatables.net/buttons/2.2.2/js/dataTables.buttons.min.js"></script>
    <!-- JSZip (required for Excel export) -->
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.1.3/jszip.min.js"></script>
    <!-- HTML5 export buttons -->
    <script type="text/javascript" src="https://cdn.datatables.net/buttons/2.2.2/js/buttons.html5.min.js"></script>
    
<link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.6-rc.0/css/select2.min.css" rel="stylesheet" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.6-rc.0/js/select2.min.js"></script>
		
<script th:inline="javascript">
    /* variable used by index.js */
    var prodList = [[${productList}]];
    var locationList = [[${locationList}]];
    var vehicleList = [[${vehicleList}]];
    var contractorList = [[${contractorList}]];
    var staffList = [[${staffList}]];
    
    
</script>
<script th:inline="javascript" th:src="@{/js/sub_admin.js}"></script> 
<style>
body, html {
  height:100%;
}
.exceeded-date {
            color: red;
        }
.safe-date {
    color: green;
}
.expiring-soon {
            color: orange;
        }
.width-fit-content {
        width: 1px;
        white-space: nowrap;
    }
/*
 * Off Canvas sidebar at medium breakpoint
 * --------------------------------------------------
 */
@media screen and (max-width: 992px) {

  .row-offcanvas {
    position: relative;
    -webkit-transition: all 0.25s ease-out;
    -moz-transition: all 0.25s ease-out;
    transition: all 0.25s ease-out;
  }

  .row-offcanvas-left
  .sidebar-offcanvas {
    left: -33%;
  }

  .row-offcanvas-left.active {
    left: 33%;
    margin-left: -6px;
  }

  .sidebar-offcanvas {
    position: absolute;
    top: 0;
    width: 33%;
    height: 100%;
  }
}

/*
 * Off Canvas wider at sm breakpoint
 * --------------------------------------------------
 */
@media screen and (max-width: 34em) {
  .row-offcanvas-left
  .sidebar-offcanvas {
    left: -45%;
  }

  .row-offcanvas-left.active {
    left: 45%;
    margin-left: -6px;
  }
  
  .sidebar-offcanvas {
    width: 45%;
  }
}

.card {
    overflow:hidden;
}

.card-body .rotate {
    z-index: 8;
    float: right;
    height: 100%;
}

.card-body .rotate i {
    color: rgba(20, 20, 20, 0.15);
    position: absolute;
    left: 0;
    left: auto;
    right: -10px;
    bottom: 0;
    display: block;
    -webkit-transform: rotate(-44deg);
    -moz-transform: rotate(-44deg);
    -o-transform: rotate(-44deg);
    -ms-transform: rotate(-44deg);
    transform: rotate(-44deg);
}
         
</style>
<script th:inline="javascript">
	$(document).ready(function(){
		
		$('.table').DataTable();
		
		$('#product_table').DataTable().destroy(); 
		
		// Add Excel export button only to table1
	    $('#product_table').DataTable({
	        dom: 'Bfrtip',
	        buttons: [
	            {
	                extend: 'excelHtml5',
	                title: 'Product List'
	            }
	        ]
	    });
		
		var fuel_stockout = [[${fuel_stockout}]];
		
		if(fuel_stockout==1){
			alert("Not Sufficient Stock to Issue Fuel");
		}
		$('#link_prod_report').click(function(e){
			$('#dashboard').hide();
			$('#prod_report').show();
			//add product
			$('#addProductEntryByChallan').hide();
			$('#addProductEntryByGhyOffice').hide();
			$('#addProductEntryBylocalOffice').hide();
			//add product return
			$('#addProductReturn').hide();
			//add fuel
			$('#addFuelEntry').hide();
			//exit fuel
			$('#addFuelExit').hide();
			
			//exit product
			$('#addProductExitByChallan').hide();
			$('#addProductExitByContractor').hide();
			$('#addProductExitByStaff').hide();
			$('#addProductExitByMiscellaneous').hide();
			
			//view entries
			$('#viewProducts').hide();
			$('#viewStaffs').hide();
			$('#viewContractors').hide();
			$('#viewVehicles').hide();
			$('#viewLocations').hide();
			
			$(".nav-item .active").removeClass('active');
		    $(this).parent().addClass('active'); 
		    e.preventDefault();
		});
		$('#link_dashboard').click(function(e){
			$('#dashboard').show();
			$('#prod_report').hide();
			//add product
			$('#addProductEntryByChallan').hide();
			$('#addProductEntryByGhyOffice').hide();
			$('#addProductEntryBylocalOffice').hide();
			//add product return
			$('#addProductReturn').hide();
			//add fuel
			$('#addFuelEntry').hide();
			//exit fuel
			$('#addFuelExit').hide();
			
			//exit product
			$('#addProductExitByChallan').hide();
			$('#addProductExitByContractor').hide();
			$('#addProductExitByStaff').hide();
			$('#addProductExitByMiscellaneous').hide();
			
			//view entries
			$('#viewProducts').hide();
			$('#viewStaffs').hide();
			$('#viewContractors').hide();
			$('#viewVehicles').hide();
			$('#viewLocations').hide();
			
			$(".nav-item .active").removeClass('active');
		    $(this).parent().addClass('active'); 
		    e.preventDefault();
		});
		
		//product add
		
		$('#link_prod_add_by_challan').click(function(){
			$('#dashboard').hide();
			$('#prod_report').hide();
			//add product
			$('#addProductEntryByChallan').show();
			$('#addProductEntryByGhyOffice').hide();
			$('#addProductEntryBylocalOffice').hide();
			//add product return
			$('#addProductReturn').hide();
			//add fuel
			$('#addFuelEntry').hide();
			//exit fuel
			$('#addFuelExit').hide();
			
			//exit product
			$('#addProductExitByChallan').hide();
			$('#addProductExitByContractor').hide();
			$('#addProductExitByStaff').hide();
			$('#addProductExitByMiscellaneous').hide();
			
			//view entries
			$('#viewProducts').hide();
			$('#viewStaffs').hide();
			$('#viewContractors').hide();
			$('#viewVehicles').hide();
			$('#viewLocations').hide();
		});
		
		$('#link_prod_add_by_ghy_office').click(function(){
			$('#dashboard').hide();
			$('#prod_report').hide();
			//add product
			$('#addProductEntryByChallan').hide();
			$('#addProductEntryByGhyOffice').show();
			$('#addProductEntryBylocalOffice').hide();
			//add product return
			$('#addProductReturn').hide();
			//add fuel
			$('#addFuelEntry').hide();
			//exit fuel
			$('#addFuelExit').hide();
			
			//exit product
			$('#addProductExitByChallan').hide();
			$('#addProductExitByContractor').hide();
			$('#addProductExitByStaff').hide();
			$('#addProductExitByMiscellaneous').hide();
			
			//view entries
			$('#viewProducts').hide();
			$('#viewStaffs').hide();
			$('#viewContractors').hide();
			$('#viewVehicles').hide();
			$('#viewLocations').hide();
		});
		
		$('#link_prod_add_by_local_office').click(function(){
			$('#dashboard').hide();
			$('#prod_report').hide();
			//add product
			$('#addProductEntryByChallan').hide();
			$('#addProductEntryByGhyOffice').hide();
			$('#addProductEntryBylocalOffice').show();
			//add product return
			$('#addProductReturn').hide();
			//add fuel
			$('#addFuelEntry').hide();
			//exit fuel
			$('#addFuelExit').hide();
			
			//exit product
			$('#addProductExitByChallan').hide();
			$('#addProductExitByContractor').hide();
			$('#addProductExitByStaff').hide();
			$('#addProductExitByMiscellaneous').hide();
			
			//view entries
			$('#viewProducts').hide();
			$('#viewStaffs').hide();
			$('#viewContractors').hide();
			$('#viewVehicles').hide();
			$('#viewLocations').hide();
		});
		
		//product exit
		
		$('#link_prod_exit_by_challan').click(function(){
			$('#dashboard').hide();
			$('#prod_report').hide();
			//add product
			$('#addProductEntryByChallan').hide();
			$('#addProductEntryByGhyOffice').hide();
			$('#addProductEntryBylocalOffice').hide();
			//add product return
			$('#addProductReturn').hide();
			//add fuel
			$('#addFuelEntry').hide();
			//exit fuel
			$('#addFuelExit').hide();
			
			//exit product
			$('#addProductExitByChallan').show();
			$('#addProductExitByContractor').hide();
			$('#addProductExitByStaff').hide();
			$('#addProductExitByMiscellaneous').hide();
			
			//view entries
			$('#viewProducts').hide();
			$('#viewStaffs').hide();
			$('#viewContractors').hide();
			$('#viewVehicles').hide();
			$('#viewLocations').hide();
		});
		$('#link_prod_exit_by_contractor').click(function(){
			$('#dashboard').hide();
			$('#prod_report').hide();
			//add product
			$('#addProductEntryByChallan').hide();
			$('#addProductEntryByGhyOffice').hide();
			$('#addProductEntryBylocalOffice').hide();
			//add product return
			$('#addProductReturn').hide();
			//add fuel
			$('#addFuelEntry').hide();
			//exit fuel
			$('#addFuelExit').hide();
			
			//exit product
			$('#addProductExitByChallan').hide();
			$('#addProductExitByContractor').show();
			$('#addProductExitByStaff').hide();
			$('#addProductExitByMiscellaneous').hide();
			
			//view entries
			$('#viewProducts').hide();
			$('#viewStaffs').hide();
			$('#viewContractors').hide();
			$('#viewVehicles').hide();
			$('#viewLocations').hide();
		});
		$('#link_prod_exit_by_staff').click(function(){
			$('#dashboard').hide();
			$('#prod_report').hide();
			//add product
			$('#addProductEntryByChallan').hide();
			$('#addProductEntryByGhyOffice').hide();
			$('#addProductEntryBylocalOffice').hide();
			//add product return
			$('#addProductReturn').hide();
			//add fuel
			$('#addFuelEntry').hide();
			//exit fuel
			$('#addFuelExit').hide();
			
			//exit product
			$('#addProductExitByChallan').hide();
			$('#addProductExitByContractor').hide();
			$('#addProductExitByStaff').show();
			$('#addProductExitByMiscellaneous').hide();
			
			//view entries
			$('#viewProducts').hide();
			$('#viewStaffs').hide();
			$('#viewContractors').hide();
			$('#viewVehicles').hide();
			$('#viewLocations').hide();
		});
		$('#link_prod_exit_by_miscellaneous').click(function(){
			$('#dashboard').hide();
			$('#prod_report').hide();
			//add product
			$('#addProductEntryByChallan').hide();
			$('#addProductEntryByGhyOffice').hide();
			$('#addProductEntryBylocalOffice').hide();
			//add product return
			$('#addProductReturn').hide();
			//add fuel
			$('#addFuelEntry').hide();
			//exit fuel
			$('#addFuelExit').hide();
			
			//exit product
			$('#addProductExitByChallan').hide();
			$('#addProductExitByContractor').hide();
			$('#addProductExitByStaff').hide();
			$('#addProductExitByMiscellaneous').show();
			
			//view entries
			$('#viewProducts').hide();
			$('#viewStaffs').hide();
			$('#viewContractors').hide();
			$('#viewVehicles').hide();
			$('#viewLocations').hide();
		});
		
		//Product Return
		$('#link_product_return').click(function(){
			$('#dashboard').hide();
			$('#prod_report').hide();
			//add product
			$('#addProductEntryByChallan').hide();
			$('#addProductEntryByGhyOffice').hide();
			$('#addProductEntryBylocalOffice').hide();
			//add product return
			$('#addProductReturn').show();
			//add fuel
			$('#addFuelEntry').hide();
			//exit fuel
			$('#addFuelExit').hide();
			
			//exit product
			$('#addProductExitByChallan').hide();
			$('#addProductExitByContractor').hide();
			$('#addProductExitByStaff').hide();
			$('#addProductExitByMiscellaneous').hide();
			
			//view entries
			$('#viewProducts').hide();
			$('#viewStaffs').hide();
			$('#viewContractors').hide();
			$('#viewVehicles').hide();
			$('#viewLocations').hide();
		});
		
		//Fuel add 
		$('#link_fuel_entry').click(function(){
			$('#dashboard').hide();
			$('#prod_report').hide();
			//add product
			$('#addProductEntryByChallan').hide();
			$('#addProductEntryByGhyOffice').hide();
			$('#addProductEntryBylocalOffice').hide();
			//add product return
			$('#addProductReturn').hide();
			//add fuel
			$('#addFuelEntry').show();
			//exit fuel
			$('#addFuelExit').hide();
			
			//exit product
			$('#addProductExitByChallan').hide();
			$('#addProductExitByContractor').hide();
			$('#addProductExitByStaff').hide();
			$('#addProductExitByMiscellaneous').hide();
			
			//view entries
			$('#viewProducts').hide();
			$('#viewStaffs').hide();
			$('#viewContractors').hide();
			$('#viewVehicles').hide();
			$('#viewLocations').hide();
		});
		
		//fuel exit
		$('#link_fuel_exit').click(function(){
			$('#dashboard').hide();
			$('#prod_report').hide();
			//add product
			$('#addProductEntryByChallan').hide();
			$('#addProductEntryByGhyOffice').hide();
			$('#addProductEntryBylocalOffice').hide();
			//add product return
			$('#addProductReturn').hide();
			//add fuel
			$('#addFuelEntry').hide();
			//exit fuel
			$('#addFuelExit').show();
			
			//exit product
			$('#addProductExitByChallan').hide();
			$('#addProductExitByContractor').hide();
			$('#addProductExitByStaff').hide();
			$('#addProductExitByMiscellaneous').hide();
			
			//view entries
			$('#viewProducts').hide();
			$('#viewStaffs').hide();
			$('#viewContractors').hide();
			$('#viewVehicles').hide();
			$('#viewLocations').hide();
		});
		
		
		//View Items
		
		$('#link_view_product').click(function(){
			$('#prod_report').hide();
			$('#addSubAdmin').hide();
			$('#dashboard').hide();
			$('#addProduct').hide();
			$('#addStaff').hide();
			$('#addContractor').hide();
			$('#addVehicle').hide();
			$('#addLocation').hide();
			$('#addProductReturn').hide();
			
			$('#viewProducts').show();
			$('#viewStaffs').hide();
			$('#viewContractors').hide();
			$('#viewVehicles').hide();
			$('#viewLocations').hide();
		});
		$('#link_view_staff').click(function(){
			$('#prod_report').hide();
			$('#addSubAdmin').hide();
			$('#dashboard').hide();
			$('#addProduct').hide();
			$('#addStaff').hide();
			$('#addContractor').hide();
			$('#addVehicle').hide();
			$('#addLocation').hide();
			$('#addProductReturn').hide();
			
			$('#viewProducts').hide();
			$('#viewStaffs').show();
			$('#viewContractors').hide();
			$('#viewVehicles').hide();
			$('#viewLocations').hide();
		});
		$('#link_view_contractor').click(function(){
			$('#prod_report').hide();
			$('#addSubAdmin').hide();
			$('#dashboard').hide();
			$('#addProduct').hide();
			$('#addStaff').hide();
			$('#addContractor').hide();
			$('#addVehicle').hide();
			$('#addLocation').hide();
			$('#addProductReturn').hide();
			
			$('#viewProducts').hide();
			$('#viewStaffs').hide();
			$('#viewContractors').show();
			$('#viewVehicles').hide();
			$('#viewLocations').hide();
		});
		$('#link_view_vehicle').click(function(){
			$('#prod_report').hide();
			$('#addSubAdmin').hide();
			$('#dashboard').hide();
			$('#addProduct').hide();
			$('#addStaff').hide();
			$('#addContractor').hide();
			$('#addVehicle').hide();
			$('#addLocation').hide();
			$('#addProductReturn').hide();
			
			$('#viewProducts').hide();
			$('#viewStaffs').hide();
			$('#viewContractors').hide();
			$('#viewVehicles').show();
			$('#viewLocations').hide();
		});
		$('#link_view_location').click(function(){
			$('#prod_report').hide();
			$('#addSubAdmin').hide();
			$('#dashboard').hide();
			$('#addProduct').hide();
			$('#addStaff').hide();
			$('#addContractor').hide();
			$('#addVehicle').hide();
			$('#addLocation').hide();
			$('#addProductReturn').hide();
			
			$('#viewProducts').hide();
			$('#viewStaffs').hide();
			$('#viewContractors').hide();
			$('#viewVehicles').hide();
			$('#viewLocations').show();
		});
		
		
		
		$('#formExitByChallan').submit(function(event){
	        // Prevent the default form submission
	        event.preventDefault();
	        
	        var form = document.getElementById('formExitByChallan');

	        // Get the element by its name within the form
	        var product_quantity = form.querySelectorAll('[name="product_quantity"]');
	        var product_id = form.querySelectorAll('[name="product_id"]');
	        
	        var product_quantity_arr = [];
	        var product_id_arr = [];
	        
	        for (var i = 0; i < product_quantity.length; i++) {
	        	product_quantity_arr.push(product_quantity[i].value);
	        }
	        
	        for (var i = 0; i < product_id.length; i++) {
	        	product_id_arr.push(product_id[i].value);
	        }
	        
	        //form.getElementsByName('product_quantity')
	        
	        var status = "failed";
	        
	        var i = 0;
	        for(i=0;i<product_id_arr.length;i++){
		        status = checkAvailableQuantity(product_id_arr[i],product_quantity_arr[i]);
		        
				 if(status=="failed"){
					 return;
				 }
	        }
	        

			
	        // Serialize the form data
	        var formData = $(this).serialize();
	        var token = $('#_csrf').attr("content");
			var header = $('#_csrf_header').attr("content");
	        // Send an AJAX request
	        $.ajax({
	            type: 'POST',
	            async: false,
	            url: '/addProductExitByChallan',
	            data: formData,
	            beforeSend: function(xhr){
					xhr.setRequestHeader(header,token);
			    },
	            success: function(data){
	                // Handle the response from the controller
	               // $('#result').html(response);
	                alert("Order created with challan number: "+data[0]);
	                //window.location.href = "/SubAdminHome";
	                window.location.href = '/billDetails?challan_no='+data[0]+'&type=byChallan';
	            },
	            error: function(xhr, status, error){
	                // Handle errors
	                console.error(xhr.responseText);
	            }
	        });
	    });
		
		$('#formExitByContractor').submit(function(event){
	        // Prevent the default form submission
	        event.preventDefault();
	        
	        var form = document.getElementById('formExitByContractor');
	
	        // Get the element by its name within the form
	        var product_quantity = form.querySelectorAll('[name="product_quantity"]');
	        var product_id = form.querySelectorAll('[name="product_id"]');
	        
	        var product_quantity_arr = [];
	        var product_id_arr = [];
	        
	        for (var i = 0; i < product_quantity.length; i++) {
	        	product_quantity_arr.push(product_quantity[i].value);
	        }
	        
	        for (var i = 0; i < product_id.length; i++) {
	        	product_id_arr.push(product_id[i].value);
	        }
	        
	        //form.getElementsByName('product_quantity')
	        
	        var status = "failed";
	        
	        var i = 0;
	        for(i=0;i<product_id_arr.length;i++){
		        status = checkAvailableQuantity(product_id_arr[i],product_quantity_arr[i]);
		        
				 if(status=="failed"){
					 return;
				 }
	        }
	
	        // Serialize the form data
	        var formData = $(this).serialize();
	        var token = $('#_csrf').attr("content");
			var header = $('#_csrf_header').attr("content");
	        // Send an AJAX request
	        $.ajax({
	            type: 'POST',
	            async: false,
	            url: '/addProductExitByContractor',
	            data: formData,
	            beforeSend: function(xhr){
					xhr.setRequestHeader(header,token);
			    },
	            success: function(data){
	                // Handle the response from the controller
	               // $('#result').html(response);
	                alert("Order created with challan number: "+data[0]);
	                //window.location.href = "/SubAdminHome";
	                window.location.href = '/billDetails?challan_no='+data[0]+'&type=byContractor';
	            },
	            error: function(xhr, status, error){
	                // Handle errors
	                console.error(xhr.responseText);
	            }
	        });
	    });
		
		$('#formExitByStaff').submit(function(event){
	        // Prevent the default form submission
	        event.preventDefault();
	        
	        var form = document.getElementById('formExitByStaff');
	
	        // Get the element by its name within the form
	        var product_quantity = form.querySelectorAll('[name="product_quantity"]');
	        var product_id = form.querySelectorAll('[name="product_id"]');
	        
	        var product_quantity_arr = [];
	        var product_id_arr = [];
	        
	        for (var i = 0; i < product_quantity.length; i++) {
	        	product_quantity_arr.push(product_quantity[i].value);
	        }
	        
	        for (var i = 0; i < product_id.length; i++) {
	        	product_id_arr.push(product_id[i].value);
	        }
	        
	        //form.getElementsByName('product_quantity')
	        
	        var status = "failed";
	        
	        var i = 0;
	        for(i=0;i<product_id_arr.length;i++){
		        status = checkAvailableQuantity(product_id_arr[i],product_quantity_arr[i]);
		        
				 if(status=="failed"){
					 return;
				 }
	        }
	
	        // Serialize the form data
	        var formData = $(this).serialize();
	        var token = $('#_csrf').attr("content");
			var header = $('#_csrf_header').attr("content");
	        // Send an AJAX request
	        $.ajax({
	            type: 'POST',
	            async: false,
	            url: '/addProductExitByStaff',
	            data: formData,
	            beforeSend: function(xhr){
					xhr.setRequestHeader(header,token);
			    },
	            success: function(data){
	                // Handle the response from the controller
	               // $('#result').html(response);
	                alert("Order created with challan number: "+data[0]);
	                //window.location.href = "/SubAdminHome";
	                window.location.href = '/billDetails?challan_no='+data[0]+'&type=byStaff';
	            },
	            error: function(xhr, status, error){
	                // Handle errors
	                console.error(xhr.responseText);
	            }
	        });
	    });
		
		$('#formExitByMiscellaneous').submit(function(event){
	        // Prevent the default form submission
	        event.preventDefault();
	        
	        var form = document.getElementById('formExitByMiscellaneous');
	
	        // Get the element by its name within the form
	        var product_quantity = form.querySelectorAll('[name="product_quantity"]');
	        var product_id = form.querySelectorAll('[name="product_id"]');
	        
	        var product_quantity_arr = [];
	        var product_id_arr = [];
	        
	        for (var i = 0; i < product_quantity.length; i++) {
	        	product_quantity_arr.push(product_quantity[i].value);
	        }
	        
	        for (var i = 0; i < product_id.length; i++) {
	        	product_id_arr.push(product_id[i].value);
	        }
	        
	        //form.getElementsByName('product_quantity')
	        
	        var status = "failed";
	        
	        var i = 0;
	        for(i=0;i<product_id_arr.length;i++){
		        status = checkAvailableQuantity(product_id_arr[i],product_quantity_arr[i]);
		        
				 if(status=="failed"){
					 return;
				 }
	        }
	
	        // Serialize the form data
	        var formData = $(this).serialize();
	        var token = $('#_csrf').attr("content");
			var header = $('#_csrf_header').attr("content");
	        // Send an AJAX request
	        $.ajax({
	            type: 'POST',
	            async: false,
	            url: '/addProductExitByMiscellaneous',
	            data: formData,
	            beforeSend: function(xhr){
					xhr.setRequestHeader(header,token);
			    },
	            success: function(data){
	                // Handle the response from the controller
	               // $('#result').html(response);
	                alert("Order created with challan number: "+data[0]);
	                //window.location.href = "/SubAdminHome";
	                window.location.href = '/billDetails?challan_no='+data[0]+'&type=byMisc';
	            },
	            error: function(xhr, status, error){
	                // Handle errors
	                console.error(xhr.responseText);
	            }
	        });
	    });
		
		$('#product_id_return').change(function(e){
			var productId = document.getElementById("product_id_return").value;
			var token = $('#_csrf').attr("content");
			var header = $('#_csrf_header').attr("content");
			$.ajax({
	            type: 'GET',
	            async: false,
	            url: '/getProductDetails',
	            data: {product_id:productId},
	            beforeSend: function(xhr){
					xhr.setRequestHeader(header,token);
			    },
	            success: function(data){
	                // Handle the response from the controller
	               // $('#result').html(response);
	                document.getElementById("product_name_return").value = data.name;
	                document.getElementById("units_return").value = data.unit;
	            },
	            error: function(xhr, status, error){
	                // Handle errors
	                console.error(xhr.responseText);
	            }
	        });
		});
		
		
	});

	
	function checkAvailableQuantity(product_id,product_quantity){
		
		var status = "failed";
		var token = $('#_csrf').attr("content");
		 var header = $('#_csrf_header').attr("content");
		//alert("feeder_is"+feeder_id);
		  $.ajax({                                                                                                           
				 type: "GET",                                                           
				 async: false,
	             url: "/getProductDetails",
	             data: {product_id:product_id},
	             beforeSend: function(xhr){
						xhr.setRequestHeader(header,token);
				  },
	             success: function(data){
	            	 if(Number(data.quantity)<Number(product_quantity)){
	            		 alert("Not much stock available for the requested quantity. Please rectify and submit");
	            		 return;
	            	 }
	            	 else{
	            		 status = "success";
	            		 alert("Required Stock Is Available");
	            	 }
	             }                                                                    
		   });
		  return status;
	}
	
	function searchEntry(){
		var token = $('#_csrf').attr("content");
		 var header = $('#_csrf_header').attr("content");
		 
		 var entry_type = $('#entry_type').val();
		 var entry_date = $('#entry_date').val();
		 var entry_product_id = $('#entry_product_id').val();

		 $.ajax({                                                                                                           
			 type: "GET",                                                           
			 async: false,
	         url: "/getProductEntryDetails",
	         data: {entry_type:entry_type,entry_date:entry_date,entry_product_id:entry_product_id},
	         beforeSend: function(xhr){
					xhr.setRequestHeader(header,token);
			  },
	         success: function(data){
	        	 
	        	 $('#entry_table').DataTable().destroy(); 
	       		// Add Excel export button only to table1
	       	 	var entry_table = $('#entry_table').DataTable({
	       	        dom: 'Bfrtip',
	       	        buttons: [
	       	            {
	       	                extend: 'excelHtml5',
	       	                title: 'Product Report'
	       	            }
	       	        ]
	       	    });
	        	 /*
	        	 var table = $('#entry_table').DataTable({
	                 // Initial setup options
	             });
	        	 */
	        	 //table.clear();
	        	 $("#entry_table tbody").empty();
	        	 
	        	 
		      		
		     	// Clear the existing data
	            entry_table.clear().draw();
	        	 for (let i = 0; i < data.length; i++) {
	                 var filteredProductObj = data[i];                
	                 
	                 // For example, append to a div
	                 /*
	                 $('#entry_data').append(
	                     '<tr>' +
	                     '<td>' + filteredProductObj.prod_id + '</td>' +
	                     '<td>' + filteredProductObj.prod_name + '</td>' +
	                     '<td>' + filteredProductObj.prod_unit + '</td>' +
	                     '<td>' + filteredProductObj.prod_quantity + '</td>' +
	                     '<td>' + filteredProductObj.challan_no + '</td>' +
	                     '<td>' + filteredProductObj.challan_date + '</td>' +
	                     '<td>' + filteredProductObj.challan_type + '</td>' +
	                     '</tr>'
	                 );
	                 */
	                
	               
	                 
	                 entry_table.row.add([
	                	 filteredProductObj.prod_id,
	                	 filteredProductObj.prod_name,
	                	 filteredProductObj.type,
	                	 filteredProductObj.prod_unit,
	                	 filteredProductObj.prod_quantity,
	                	 filteredProductObj.challan_no,
	                     filteredProductObj.challan_date,
	                     filteredProductObj.challan_type
	                 ]);
	                 
	                 
	                 
	                  
	              
	             }
	        	 entry_table.draw(); 
	        	 $('#view_entry_data').show();
	         }                                                                    
	   });
	}

	function searchExit(){
		
		var token = $('#_csrf').attr("content");
		 var header = $('#_csrf_header').attr("content");
		 
		 var exit_type = $('#exit_type').val();
		 var exit_date = $('#exit_date').val();
		 var exit_product_id = $('#exit_product_id').val();
		 
		 $.ajax({                                                                                                           
			 type: "GET",                                                           
			 async: false,
	         url: "/getProductExitDetails",
	         data: {exit_type:exit_type,exit_date:exit_date,exit_product_id:exit_product_id},
	         beforeSend: function(xhr){
					xhr.setRequestHeader(header,token);
			  },
	         success: function(data){
	        	 	$('#exit_table').DataTable().destroy(); 
	          		// Add Excel export button only to table1
	          	    var exit_table = $('#exit_table').DataTable({
	          	        dom: 'Bfrtip',
	          	        buttons: [
	          	            {
	          	                extend: 'excelHtml5',
	          	                title: 'Product Report'
	          	            }
	          	        ]
	          	    });
	          		
	          	  
	        	 $("#exit_table tbody").empty();
	        	// Clear the existing data
	             exit_table.clear().draw();
	        	 for (let i = 0; i < data.length; i++) {
	                 var filteredProductObj = data[i];
	                 
	                 // For example, append to a div
	                 /*
	                 $('#exit_data').append(
	                         '<tr>' +
	                         '<td>' + filteredProductObj.prod_id + '</td>' +
	                         '<td>' + filteredProductObj.prod_name + '</td>' +
	                         '<td>' + filteredProductObj.prod_unit + '</td>' +
	                         '<td>' + filteredProductObj.prod_quantity + '</td>' +
	                         '<td>' + filteredProductObj.challan_no + '</td>' +
	                         '<td>' + filteredProductObj.challan_date + '</td>' +
	                         '<td>' + filteredProductObj.challan_type + '</td>' +
	                         '</tr>'
	                     );
	                 */
	                 
	                 
	                 exit_table.row.add([
	                	 filteredProductObj.prod_id,
	                	 filteredProductObj.prod_name,
	                	 filteredProductObj.type,
	                	 filteredProductObj.prod_unit,
	                	 filteredProductObj.prod_quantity,
	                	 filteredProductObj.challan_no,
	                     filteredProductObj.challan_date,
	                     filteredProductObj.challan_type
	                 ]);
	                     
	                 
	                     
	                     
	             }
	        	 exit_table.draw(); 
	        	 $('#view_exit_data').show();
	         }                                                                    
	   });
	}

	function searchProduct(){
		var token = $('#_csrf').attr("content");
		 var header = $('#_csrf_header').attr("content");
		 var f_product_id = $('#f_product_id').val();
		 var s_date = $('#s_date').val();
		 var e_date = $('#e_date').val();
		 
		 $.ajax({                                                                                                           
			 type: "GET",                                                           
			 async: false,
	         url: "/getProductEntryExitDetails",
	         data: {f_product_id:f_product_id,s_date:s_date,e_date:e_date},
	         beforeSend: function(xhr){
					xhr.setRequestHeader(header,token);
			  },
	         success: function(data){
	        	 $('#product_entry_table').DataTable().destroy(); 
	     		// Add Excel export button only to table1
	     	  var product_entry_table = $('#product_entry_table').DataTable({
	     	        dom: 'Bfrtip',
	     	        buttons: [
	     	            {
	     	                extend: 'excelHtml5',
	     	                title: 'Product Report'
	     	            }
	     	        ]
	     	    });
	     		
	     	 $('#product_exit_table').DataTable().destroy(); 
	     	// Add Excel export button only to table1
	     	 var product_exit_table = $('#product_exit_table').DataTable({
	     	       dom: 'Bfrtip',
	     	       buttons: [
	     	           {
	     	               extend: 'excelHtml5',
	     	               title: 'Product Report'
	     	           }
	     	       ]
	     	   });
	        	 $("#product_entry_table tbody").empty();
	        	 $("#product_exit_table tbody").empty();
	        	 product_entry_table.clear().draw();
	        	 product_exit_table.clear().draw();
	        	 var entryProductList = data[0];
	        	 var exitProductList = data[1];
	        	 
	        	 for (let i = 0; i < entryProductList.length; i++) {
	                 var filteredProductObj = entryProductList[i];
	                 
	              // For example, append to a div
	              /*
	                 $('#product_entry_data').append(
	                         '<tr>' +
	                         '<td>' + filteredProductObj.prod_id + '</td>' +
	                         '<td>' + filteredProductObj.prod_name + '</td>' +
	                         '<td>' + filteredProductObj.type + '</td>' +
	                         '<td>' + filteredProductObj.prod_unit + '</td>' +
	                         '<td>' + filteredProductObj.prod_quantity + '</td>' +
	                         '<td>' + filteredProductObj.challan_no + '</td>' +
	                         '<td>' + filteredProductObj.challan_date + '</td>' +
	                         '<td>' + filteredProductObj.challan_type + '</td>' +
	                         '</tr>'
	                 );
	              */
	              
	                 product_entry_table.row.add([
	                	 filteredProductObj.prod_id,
	                	 filteredProductObj.prod_name,
	                	 filteredProductObj.type,
	                	 filteredProductObj.prod_unit,
	                	 filteredProductObj.prod_quantity,
	                	 filteredProductObj.challan_no,
	                     filteredProductObj.challan_date,
	                     filteredProductObj.challan_type
	                 ]);
	                
	             }
	        	 
	        	 
	        	 for (let i = 0; i < exitProductList.length; i++) {
	                 var filteredProductObj = exitProductList[i];
	                 
	                 // For example, append to a div
	                 /*
	                 $('#product_exit_data').append(
	                         '<tr>' +
	                         '<td>' + filteredProductObj.prod_id + '</td>' +
	                         '<td>' + filteredProductObj.prod_name + '</td>' +
	                         '<td>' + filteredProductObj.type + '</td>' +
	                         '<td>' + filteredProductObj.prod_unit + '</td>' +
	                         '<td>' + filteredProductObj.prod_quantity + '</td>' +
	                         '<td>' + filteredProductObj.challan_no + '</td>' +
	                         '<td>' + filteredProductObj.challan_date + '</td>' +
	                         '<td>' + filteredProductObj.challan_type + '</td>' +
	                         '</tr>'
	                 );
	                 */
	                 
	                 product_exit_table.row.add([
	                	 filteredProductObj.prod_id,
	                	 filteredProductObj.prod_name,
	                	 filteredProductObj.type,
	                	 filteredProductObj.prod_unit,
	                	 filteredProductObj.prod_quantity,
	                	 filteredProductObj.challan_no,
	                     filteredProductObj.challan_date,
	                     filteredProductObj.challan_type
	                 ]);
	              
	             }
	        	 
	        	 product_entry_table.draw();
	        	 product_exit_table.draw();
	        	 $('#view_product_data').show();
	        	 
	        	 
	     		
	         }                                                                    
	   });
	}
	
</script>
</head>
<body>
<nav class="navbar fixed-top navbar-expand-md navbar-dark bg-primary mb-3">
    <div class="flex-row d-flex">
        <button type="button" class="navbar-toggler mr-2 " data-toggle="offcanvas" title="Toggle responsive left sidebar">
            <span class="navbar-toggler-icon"></span>
        </button>
        <a class="navbar-brand" href="#" title="Gautam Construction"><img src="images/logo.jpeg" class="brand_logo" alt="Logo" width="50" height="50"/></a>
    </div>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#collapsingNavbar">
        <span class="navbar-toggler-icon"></span>
    </button>
    <div class="navbar-collapse collapse" id="collapsingNavbar">
        <ul class="navbar-nav">
            <li class="nav-item active">
                <a class="nav-link" href="#">Home <span class="sr-only">Home</span></a>
            </li>
        </ul>
        <ul class="navbar-nav ml-auto">
            <li class="nav-item">
                <a class="nav-link" href="#myAlert" data-toggle="collapse"><span th:text="${office_name}"></span></a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="/logout">Logout</a>
            </li>
        </ul>
    </div>
</nav><br>
<div class="container-fluid" id="main">
    <div class="row row-offcanvas row-offcanvas-left">
        <div class="col-md-3 col-lg-2 sidebar-offcanvas bg-light pl-0" id="sidebar" role="navigation">
            <ul class="nav flex-column sticky-top pl-0 pt-5 mt-3">
                <li id="link_dashboard" class="nav-item active"><a class="nav-link" href="#">Dashboard</a></li>
                <li id="link_prod_report" class="nav-item"><a class="nav-link" href="#">Product Reports</a></li>
                <li class="nav-item">
                    <a class="nav-link" href="#submenu1" data-toggle="collapse" data-target="#submenu1">Reports▾</a>
                    <ul class="list-unstyled flex-column pl-3 collapse" id="submenu1" aria-expanded="false">
                       <li id="link_view_product" class="nav-item"><a class="nav-link" href="#">View Product Details</a></li>
                       <li id="link_view_staff" class="nav-item"><a class="nav-link" href="#">View Employee Details</a></li>
                       <li id="link_view_contractor" class="nav-item"><a class="nav-link" href="#">View Sub-Contractor Details</a></li>
                       <li id="link_view_vehicle" class="nav-item"><a class="nav-link" href="#">View Vehicle Details</a></li>
                       <li id="link_view_location" class="nav-item"><a class="nav-link" href="#">View Location Details</a></li>
                    </ul>
                </li>
                <li class="nav-item">
                	<a class="nav-link" href="#submenu2" data-toggle="collapse" data-target="#submenu2">Add Product Entry▾</a>
                    <ul class="list-unstyled flex-column pl-3 collapse" id="submenu2" aria-expanded="false">
                       <li id="link_prod_add_by_challan" class="nav-item"><a class="nav-link" href="#">By Challan</a></li>
                       <li id="link_prod_add_by_ghy_office" class="nav-item"><a class="nav-link" href="#">By Purchase from Ghy. Office</a></li>
                       <li id="link_prod_add_by_local_office" class="nav-item"><a class="nav-link" href="#">By Local Purchase</a></li>
                    </ul>
                </li>
                <li class="nav-item">
	                <a class="nav-link" href="#submenu3" data-toggle="collapse" data-target="#submenu3">Add Product Exit▾</a>
	                    <ul class="list-unstyled flex-column pl-3 collapse" id="submenu3" aria-expanded="false">
	                       <li id="link_prod_exit_by_challan" class="nav-item"><a class="nav-link" href="#">By Challan</a></li>
	                       <li id="link_prod_exit_by_contractor" class="nav-item"><a class="nav-link" href="#">By Sub-Contractor</a></li>
	                       <li id="link_prod_exit_by_staff" class="nav-item"><a class="nav-link" href="#">By Employee</a></li>
	                       <li id="link_prod_exit_by_miscellaneous" class="nav-item"><a class="nav-link" href="#">By Miscellaneous</a></li>
	                    </ul>
                </li>
                <li id="link_product_return" class="nav-item"><a class="nav-link" href="#">Add Product Return</a></li>
                <li id="link_fuel_entry" class="nav-item"><a class="nav-link" href="#">Add Fuel Entry</a></li>
                <li id="link_fuel_exit" class="nav-item"><a class="nav-link" href="#">Add Fuel Exit</a></li>
            </ul>
        </div>
        <!--/col-->

        <div id="dashboard" class="col main pt-5 mt-3">
        
            <h1 class="display-4 d-none d-sm-block">
            	Shree Gautam Construction Co Ltd.(Noonmati Flyover)
            </h1>
            
            <div class="alert alert-warning fade collapse" role="alert" id="myAlert">
                <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                    <span aria-hidden="true">×</span>
                    <span class="sr-only">Close</span>
                </button>
                <strong>Holy guacamole!</strong> this is an example.
            </div>
            <div class="row mb-3">
                <div class="col-xl-3 col-sm-6 py-2">
                    <div class="card bg-success text-white h-100">
                        <div class="card-body bg-success">
                            <div class="rotate">
                                <i class="fa fa-user fa-4x"></i>
                            </div>
                            <h6 class="text-uppercase">Products</h6>
                            <h1 class="display-4" th:text="${productCount}"></h1>
                        </div>
                    </div>
                </div>
                <div class="col-xl-3 col-sm-6 py-2">
                    <div class="card text-white bg-danger h-100">
                        <div class="card-body bg-danger">
                            <div class="rotate">
                                <i class="fa fa-list fa-4x"></i>
                            </div>
                            <h6 class="text-uppercase">Vehicles</h6>
                            <h1 class="display-4" th:text="${vehicleCount}"></h1>
                        </div>
                    </div>
                </div>
                <div class="col-xl-3 col-sm-6 py-2">
                    <div class="card text-white bg-info h-100">
                        <div class="card-body bg-info">
                            <div class="rotate">
                                <i class="fa fa-twitter fa-4x"></i>
                            </div>
                            <h6 class="text-uppercase">Employees</h6>
                            <h1 class="display-4" th:text="${staffCount}"></h1>
                        </div>
                    </div>
                </div>
                <div class="col-xl-3 col-sm-6 py-2">
                    <div class="card text-white bg-warning h-100">
                        <div class="card-body">
                            <div class="rotate">
                                <i class="fa fa-share fa-4x"></i>
                            </div>
                            <h6 class="text-uppercase">Sub-Contractors</h6>
                            <h1 class="display-4" th:text="${contractorCount}"></h1>
                        </div>
                    </div>
                </div>
            </div>
            <!--/row-->

            <hr>
            <div class="row placeholders mb-3">
                <div class="col-6 col-sm-3 placeholder text-center">
                    <i class="fa-solid fa-bars fa-xl" style="color: #0562a8;"></i>
                    <h5>Product Added By Challan</h5>
                    <span class="text-muted" th:text="${prodAddChallanCount}"></span>
                </div>
                <div class="col-6 col-sm-3 placeholder text-center">
                    <i class="fa-solid fa-house-laptop fa-xl" style="color: #0562a8;"></i>
                    <h5>Product Added By Office Purchase</h5>
                    <span class="text-muted" th:text="${prodAddGhyOfficeCount}"></span>
                </div>
                <div class="col-6 col-sm-3 placeholder text-center">
                    <i class="fa-solid fa-globe fa-xl" style="color: #0562a8;"></i>
                    <h5>Product Added By Local Purchase</h5>
                    <span class="text-muted" th:text="${prodAddLocalOfficeCount}"></span>
                </div>
                <div class="col-6 col-sm-3 placeholder text-center">
                   	<i class="fa-solid fa-door-open fa-xl" style="color: #0562a8;"></i>
                   	<h5>Product Exited Total</h5>
                    <span class="text-muted" th:text="${prodExitChallanCount+prodExitContractorCount+prodExitMiscellaneousCount+prodExitStaffCount}"></span>
                </div>
            </div>

            <a id="features"></a>
            <hr>
            <p class="lead mt-5">
                Insight Into Products Details
            </p>
            <div class="row my-4">
                <div class="col-lg-3 col-md-4">
                    <div class="card">
                        <div class="card-body">
                            <h4 class="card-title">Total Product In</h4>
                            <p class="card-text" style="font-size:50px;"><b th:text="${prodAddChallanCount+prodAddGhyOfficeCount+prodAddLocalOfficeCount}"></b></p>
                            <a href="#" class="btn btn-primary">Get Detailed List</a>
                        </div>
                    </div>
                    <div class="card card-inverse bg-inverse mt-3">
                        <div class="card-body">
                            <h3 class="card-title">Total Product Out</h3>
                            <p class="card-text" style="font-size:50px;	"><b th:text="${prodExitChallanCount+prodExitContractorCount+prodExitMiscellaneousCount+prodExitStaffCount}"></b></p>
                            <a href="#" class="btn btn-primary">Get Detailed List</a>
                        </div>
                    </div>
                </div>
                <div class="col-lg-9 col-md-8">
                    <div class="table-responsive">
                        <table class="table table-striped">
                            <thead class="thead-inverse">
                                <tr>
                                    <th>Product Id</th>
                                    <th>Product Name</th>
                                    <th>Product Unit</th>
                                    <th>Total Balance Quantity</th>                                    
                                    <th>Type</th>
                                    <th>Material</th>
                                </tr>
                            </thead>
                            <tbody>
                            	<tr th:each="pr : ${productList}">
                            		<td th:text="${pr.prod_id}"></td>
                            		<td th:text="${pr.name}"></td>
                            		<td th:text="${pr.unit}"></td>
                            		<td th:text="${pr.quantity}"></td>
                            		<td th:text="${pr.type}"></td>
                            		<td th:text="${pr.material}"></td>
                            	</tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            <!--/row-->
               
        </div>
        <div id="prod_report" style="display:none;" class="col main pt-5 mt-3">
        	<div class="card">
				    <div class="card-header">
				      	<h3>Filter Products &nbsp&nbsp&nbsp&nbsp&nbsp</h3>
				    </div>
			      <div class="card-body">
			        	<ul class="nav nav-tabs nav-justified" role="tablist">
						    <li class="nav-item">
						      <a class="nav-link active" data-toggle="tab" href="#by_entry" role="tab" aria-controls="by_entry" aria-selected="true">By Entry</a>
						    </li>
						    <li class="nav-item">
						      <a class="nav-link" data-toggle="tab" href="#by_exit" role="tab" aria-controls="by_exit" aria-selected="false">By Exit</a>
						    </li>
						    <li class="nav-item">
						      <a class="nav-link" data-toggle="tab" href="#by_product" role="tab" aria-controls="by_product" aria-selected="false">By Product</a>
						    </li>
						</ul>
						
						<div class="tab-content mt-3">
					          <div class="tab-pane fade show active" id="by_entry" role="tabpanel" aria-labelledby="entry-tab">
					                <h6>Filter Product Entry</h6>
					                <div class="row">
					                	<div class="col-md-3">
					                		<label for="entry_type">Select Entry Type:</label>
					                		<select class="form-control select2" name="entry_type" id="entry_type" style="width:100%;">
												    <option value="">select option</option>
												    <option value="by_challan">Entry By Challan</option>
												    <option value="by_ghy_office">Entry By Purchase from Ghy. Office</option>
												    <option value="by_local_purchase">Entry By local Purchase</option>
											 </select>
					                	</div>
					                	<div class="col-md-3">
					                		<label for="entry_date">Select Entry Date:</label>
											<input type="date" id="entry_date" name="entry_date" placeholder="Entry Date" style="width:100%;">
					                	</div>
					                	<div class="col-md-3">
					                		<label for="entry_product_id">Select Product:</label>
					                		<select class="form-control select2" name="entry_product_id" id="entry_product_id" style="width:100%;">
												    <option value="">select option</option>
												    <option th:each="prod : ${productList}" th:value="${prod.prod_id}" th:text="${prod.name}"></option>
											</select>
					                	</div>
					                	<div class="col-md-3">
					                		<br><button type="button" id="search_entry" class="btn btn-info" onclick="searchEntry()">Search</button>
					                	</div>
					                </div>
					                <div id="view_entry_data" style="display:none;">
					          			<table id="entry_table" class="table table-striped">
											<thead style="background-color:#5c6499;color:#ffffff;">
												<tr>
													<th>Product Id</th>
													<th>Product Name</th>
													<th>Is Refundable?</th>
													<th>Units</th>
													<th>Quantity</th>
													<th>Challan No/Invoice No</th>
													<th>Entry Date</th>
													<th>Entry Type</th>
												</tr>
											</thead>
										    <tbody id="entry_data">
										      
										    </tbody>
								  		</table>
					          		</div>
					                
					          </div>
					          <div class="tab-pane fade" id="by_exit" role="tabpanel" aria-labelledby="exit-tab">
					            	<h6>Filter Product Exit</h6>
					            	<div class="row">
					                	<div class="col-md-3">
					                		<label for="exit_type">Select Exit Type:</label>
					                		<select class="form-control select2" name="exit_type" id="exit_type" style="width:100%;">
												    <option value="">select option</option>
												    <option value="by_challan">Exit By Challan</option>
												    <option value="by_staff">Exit By Employee</option>
												    <option value="by_contractor">Exit By Sub-Contractor</option>
												    <option value="by_misc">Exit By Miscellaneous</option>
											 </select>
					                	</div>
					                	<div class="col-md-3">
					                		<label for="exit_date">Select Exit Date:</label>
											<input type="date" id="exit_date" name="exit_date" placeholder="Exit Date" style="width:100%;">
					                	</div>
					                	<div class="col-md-3">
					                		<label for="exit_product_id">Select Product:</label>
					                		<select class="form-control select2" name="exit_product_id" id="exit_product_id" style="width:100%;">
												    <option value="">select option</option>
												    <option th:each="prod : ${productList}" th:value="${prod.prod_id}" th:text="${prod.name}"></option>
											 </select>
					                	</div>
					                	<div class="col-md-3">
					                		<br><button type="button" id="search_exit" class="btn btn-info" onclick="searchExit()">Search</button>
					                	</div>
					                </div>
					                <div id="view_exit_data" style="display:none;">
					          			<table id="exit_table" class="table table-striped">
											<thead style="background-color:#5c6499;color:#ffffff;">
												<tr>
													<th>Product Id</th>
													<th>Product Name</th>
													<th>Is Refundable?</th>
													<th>Units</th>
													<th>Quantity</th>
													<th>Challan No</th>
													<th>Entry Date</th>
													<th>Entry Type</th>
												</tr>
											</thead>
										    <tbody id="exit_data">
										                        
										    </tbody>
								  		</table>
					          		</div>
					          </div>
					          <div class="tab-pane fade" id="by_product" role="tabpanel" aria-labelledby="product-tab">
					            	<h6>Filter By Product</h6>
					            	<div class="row">
					                	<div class="col-md-3">
					                		<label for="product_id">Select Product:</label>
					                		<select class="form-control select2" name="f_product_id" id="f_product_id" style="width:100%;">
												    <option value="">select option</option>
												    <option th:each="prod : ${productList}" th:value="${prod.prod_id}" th:text="${prod.name}"></option>
											 </select>
					                	</div>
					                	<!-- 
					                		<div class="col-md-3">
						                		<label for="if_refundable">If Refundable:</label>
						                		<select class="form-control select2" name="if_refundable" id="if_refundable" style="width:100%;">
													    <option value="">select option</option>
													    <option value="refundable">Refundable</option>
													    <option value="not_refundable">Not Refundable</option>
												 </select>
						                	</div>
						                	
					                	 -->
					                	 					                	
					                	<div class="col-md-3">
					                		<label for="s_date">Select Date:</label>
											<input type="date" id="s_date" name="s_date" placeholder="Enter Transaction Date" style="width:100%;">
					                	</div>
					                	<div class="col-md-3">
					                		<label for="e_date">Select To Date:</label>
											<input type="date" id="e_date" name="e_date" placeholder="To Date" style="width:100%;">
					                	</div>
					                	<div class="col-md-3">
					                		<br><button type="button" id="search_product" class="btn btn-info" onclick="searchProduct()">Search</button>
					                	</div>
					                </div>
					                <div id="view_product_data" class="table-responsive" style="display:none;">
					          			<table id="product_entry_table" class="table table-striped">
											<thead class="thead-inverse" style="background-color:#5c6499;color:#ffffff;">
												<tr>
													<th>Product Id</th>
													<th>Product Name</th>
													<th>Is Refundable?</th>
													<th>Units</th>
													<th>Quantity</th>
													<th>Challan No</th>
													<th>Entry Date</th>
													<th>Entry Type</th>
												</tr>
											</thead>
										    <tbody id="product_entry_data">
										      
										    </tbody>
								  		</table>
								  		<table id="product_exit_table" class="table table-striped">
											<thead style="background-color:#5c6499;color:#ffffff;">
												<tr>
													<th>Product Id</th>
													<th>Product Name</th>
													<th>Is Refundable?</th>
													<th>Units</th>
													<th>Quantity</th>
													<th>Challan No</th>
													<th>Exit Date</th>
													<th>Exit Type</th>
												</tr>
											</thead>
										    <tbody id="product_exit_data">
										      
										    </tbody>
								  		</table>
								  		
					          		</div>
					          </div>
					          
				        </div>
			      </div>
				
			</div><br>
        </div>
        <div id="addProductEntryByChallan" style="display:none;" class="col main pt-5 mt-3">
        		<div class="card">
				    <div class="card-header">
				      <a class="card-link" data-toggle="collapse" data-target="#collapseAddChallan">
				      	View Entry By Challan&nbsp&nbsp&nbsp&nbsp&nbsp<i class='fas fa-angle-down'></i>
				      </a>
				    </div>
				    <div id="collapseAddChallan" class="collapse">
				      <div class="card-body">
				        	<table class="table table-striped">
								<thead style="background-color:#5c6499;color:#ffffff;">
									<tr>
										<th>Bill No</th>
										<th>Challan No</th>
										<th>Total Products</th>
										<th>Total Issue Quantity</th>
										<th></th>
									</tr>
								</thead>
							    <tbody>
							      <tr th:each="challan: ${briefProdAddChallanList}">
							      	<td><p th:text="${challan.bill_no}"></p></td>
							        <td><p th:text="${challan.challan_no}"></p></td>
							        <td><p th:text="${challan.total_prod}"></p></td>
							        <td><p th:text="${challan.total_quantity}"></p></td>
							        <td><a th:href="@{/editProdAddChallan(challan_no=${challan.challan_no})}" th:target="_blank"><i class="fa-solid fa-eye fa-xl"></i></a></td>
							      </tr>
							    </tbody>
					  		</table>
				      </div>
				    </div>
				  </div><br>
	        	<div class="card card-outline-secondary">
	              <div class="card-header">
	                <h3 class="mb-0">Add Product Entry By Challan</h3>
	              </div>
		              <div class="card-body">
		                <form autocomplete="off" th:action="@{/addProductEntryByChallan}" method="post" class="form" role="form">
		                  <div class="form-group row">
			                    <label class="col-lg-3 col-form-label form-control-label">Challan Number<span><b>*</b></span></label>
			                    <div class="col-lg-9">
			                      <input id="challan_no" name="challan_no" class="form-control" type="text" value="">
			                    </div>
			              </div>
			              <div class="form-group row">
			                    <label class="col-lg-3 col-form-label form-control-label">Date of Entry<span><b>*</b></span></label>
			                    <div class="col-lg-9">
			                      <input id="challan_date" name="challan_date" class="form-control" type="date" value="">
			                    </div>
			              </div>
			              <hr>
			              <h3><b>#1</b></h3>
		                  <div class="addByChallan">
			                  <div class="form-group row">
			                    <label class="col-lg-3 col-form-label form-control-label">Product name<span><b>*</b></span></label>
			                    <div class="col-lg-9">
			                      <select class="form-control select2" name="product_id" id="product_id_ech" style="width:100%;height:100%;">
									    <option value="">select option</option>
									    <option th:each="prod : ${productList}" th:value="${prod.prod_id}" th:text="${prod.name}"></option>
								  </select>
			                    </div>
			                  </div>
			                  <div class="form-group row">
			                    <label class="col-lg-3 col-form-label form-control-label">Product Issue Quantity<span><b>*</b></span></label>
			                    <div class="col-lg-9">
			                      <input id="product_quantity" name="product_quantity" class="form-control" type="text" value="0">
			                    </div>
			                  </div>
			                  <div class="form-group row">
			                    <label class="col-lg-3 col-form-label form-control-label">Issuing Branch<span><b>*</b></span></label>
			                    <div class="col-lg-9">
			                      <select class="form-control" name="from_branch" id="from_branch">
									    <option value="">select option</option>
									    <option th:each="location : ${locationList}" th:value="${location.location_name}" th:text="${location.location_name}"></option>
								  </select>
			                    </div>
			                  </div>
			                  <div class="form-group row">
			                    <label class="col-lg-3 col-form-label form-control-label">Vehicle No.</label>
			                    <div class="col-lg-9">
			                    	<input id="vehicle_no" name="vehicle_no" class="form-control" type="text" value="">
			                    </div>
			                  </div>
			                   <hr>
			               </div>
			                 
			                  <div class="form-group row">
			                    <div class="col-lg-2">
			                      <button id="btn_prod_add_challan" type="button" class="btn btn-info">Add Product(s)</button>
			                    </div>
			                    <div class="col-lg-10"></div>
			                  </div>
			                  <hr>
				              <div class="form-group row">
			                    <label class="col-lg-3 col-form-label form-control-label">Remarks.</label>
			                    <div class="col-lg-9">
			                    	<textarea id="remarks" name="remarks" class="form-control" rows="4" cols="50">NA</textarea>
			                    </div>
			                  </div>
			                  <div class="form-group row">
			                    <label class="col-lg-3 col-form-label form-control-label"></label>
			                    <div class="col-lg-9">
			                      <input class="btn btn-secondary" type="reset" value="Cancel"> 
														<input class="btn btn-primary" type="submit" value="Save Changes">
			                    </div>
			                  </div>
		                </form>
		              </div>
	           </div>
        </div>
        <div id="addProductEntryByGhyOffice" style="display:none;" class="col main pt-5 mt-3">
        		<div class="card">
				    <div class="card-header">
				      <a class="card-link" data-toggle="collapse" data-target="#collapseAddGhyOffice">
				      	View Entry By Purchase From Guwahati Office&nbsp&nbsp&nbsp&nbsp&nbsp<i class='fas fa-angle-down'></i>
				      </a>
				    </div>
				    <div id="collapseAddGhyOffice" class="collapse">
				      <div class="card-body">
				        	<table class="table table-striped">
								<thead style="background-color:#5c6499;color:#ffffff;">
									<tr>
										<th>Bill No</th>
										<th>Challan No</th>
										<th>Total Products</th>
										<th>Total Issue Quantity</th>
										<th></th>
									</tr>
								</thead>
							    <tbody>
							      <tr th:each="challan: ${briefProdAddGhyOfficeList}">
							      	<td><p th:text="${challan.bill_no}"></p></td>
							        <td><p th:text="${challan.challan_no}"></p></td>
							        <td><p th:text="${challan.total_prod}"></p></td>
							        <td><p th:text="${challan.total_quantity}"></p></td>
							        <td><a th:href="@{/editProdAddGhyOffice(challan_no=${challan.challan_no})}" th:target="_blank"><i class="fa-solid fa-eye fa-xl"></i></a></td>
							      </tr>
							    </tbody>
					  		</table>
				      </div>
				    </div>
				  </div><br>
	        	<div class="card card-outline-secondary">
	              <div class="card-header">
	                <h3 class="mb-0">Add Product Entry By Purchase From Guwahati Office</h3>
	              </div>
	              <div class="card-body">
	                <form autocomplete="off" th:action="@{/addProductEntryByGhyOffice}" method="post" class="form" role="form">
	                  <div class="form-group row">
	                    <label class="col-lg-3 col-form-label form-control-label">Invoice Number<span><b>*</b></span></label>
	                    <div class="col-lg-9">
	                      <input id="invoice_no" name="invoice_no" class="form-control" type="text" value="">
	                    </div>
	                  </div>
	                  <div class="form-group row">
	                    <label class="col-lg-3 col-form-label form-control-label">Invoice Date<span><b>*</b></span></label>
	                    <div class="col-lg-9">
	                      <input id="invoice_date" name="invoice_date" class="form-control" type="date" value="">
	                    </div>
	                  </div>
	                  <hr>
			          <h3><b>#1</b></h3>
			          <div class="addByGhyOffice">
	                  <div class="form-group row">
	                    <label class="col-lg-3 col-form-label form-control-label">Product name<span><b>*</b></span></label>
	                    <div class="col-lg-9">
	                      <select class="form-control select2" name="product_id" id="product_id_ego" style="width:100%;height:100%;">
							    <option value="">select option</option>
							    <option th:each="prod : ${productList}" th:value="${prod.prod_id}" th:text="${prod.name}"></option>
						  </select>
	                    </div>
	                  </div>
	                  <div class="form-group row">
	                    <label class="col-lg-3 col-form-label form-control-label">Product Issue Quantity<span><b>*</b></span></label>
	                    <div class="col-lg-9">
	                      <input id="product_quantity" name="product_quantity" class="form-control" type="text" value="0">
	                    </div>
	                  </div>
	                  <div class="form-group row">
	                    <label class="col-lg-3 col-form-label form-control-label">Vendor Name<span><b>*</b></span></label>
	                    <div class="col-lg-9">
	                      <input id="vendor_name" name="vendor_name" class="form-control" type="text" value="">
	                    </div>
	                  </div>
	                  <div class="form-group row">
	                    <label class="col-lg-3 col-form-label form-control-label">Vehicle No.</label>
	                    <div class="col-lg-9">
	                    	<input id="vehicle_no" name="vehicle_no" class="form-control" type="text" value="">
	                    </div>
	                  </div>
	                  	<hr>
	                  </div>
	                  <div class="form-group row">
	                    <div class="col-lg-2">
	                      <button id="btn_prod_add_ghy_office" type="button" class="btn btn-info">Add Product(s)</button>
	                    </div>
	                    <div class="col-lg-10"></div>
	                  </div>
	                  <hr>
		              <div class="form-group row">
	                    <label class="col-lg-3 col-form-label form-control-label">Remarks.</label>
	                    <div class="col-lg-9">
	                    	<textarea id="remarks" name="remarks" class="form-control" rows="4" cols="50">NA</textarea>
	                    </div>
	                  </div>
	                  <div class="form-group row">
	                    <label class="col-lg-3 col-form-label form-control-label"></label>
	                    <div class="col-lg-9">
	                      <input class="btn btn-secondary" type="reset" value="Cancel"> 
												<input class="btn btn-primary" type="submit" value="Save Changes">
	                    </div>
	                  </div>
	                </form>
	              </div>
	           </div>
        </div>
        <div id="addProductEntryBylocalOffice" style="display:none;" class="col main pt-5 mt-3">
        	<div class="card">
				    <div class="card-header">
				      <a class="card-link" data-toggle="collapse" data-target="#collapseAddLocalOffice">
				      	View Entry By Local Purchase&nbsp&nbsp&nbsp&nbsp&nbsp<i class='fas fa-angle-down'></i>
				      </a>
				    </div>
				    <div id="collapseAddLocalOffice" class="collapse">
				      <div class="card-body">
				        	<table class="table table-striped">
								<thead style="background-color:#5c6499;color:#ffffff;">
									<tr>
										<th>Bill No</th>
										<th>Challan No</th>
										<th>Total Products</th>
										<th>Total Issue Quantity</th>
										<th></th>
									</tr>
								</thead>
							    <tbody>
							      <tr th:each="challan: ${briefProdAddLocalOfficeList}">
							      	<td><p th:text="${challan.bill_no}"></p></td>
							        <td><p th:text="${challan.challan_no}"></p></td>
							        <td><p th:text="${challan.total_prod}"></p></td>
							        <td><p th:text="${challan.total_quantity}"></p></td>
							        <td><a th:href="@{/editProdAddLocalOffice(challan_no=${challan.challan_no})}" th:target="_blank"><i class="fa-solid fa-eye fa-xl"></i></a></td>
							      </tr>
							    </tbody>
					  		</table>
				      </div>
				    </div>
				  </div><br>
        	<div class="card card-outline-secondary">
              <div class="card-header">
                <h3 class="mb-0">Add Product Entry By Purchase From Local Purchase</h3>
              </div>
              <div class="card-body">
                <form autocomplete="off" th:action="@{/addProductEntryBylocalOffice}" method="post" class="form" role="form">
                  <div class="form-group row">
                    <label class="col-lg-3 col-form-label form-control-label">Invoice Number<span><b>*</b></span></label>
                    <div class="col-lg-9">
                      <input id="invoice_no" name="invoice_no" class="form-control" type="text" value="">
                    </div>
                  </div>
                  <div class="form-group row">
                    <label class="col-lg-3 col-form-label form-control-label">Invoice Date<span><b>*</b></span></label>
                    <div class="col-lg-9">
                      <input id="invoice_date" name="invoice_date" class="form-control" type="date" value="">
                    </div>
                  </div>
                  <hr>
		          <h3><b>#1</b></h3>
		          <div class="addByLocalOffice">
                  <div class="form-group row">
                    <label class="col-lg-3 col-form-label form-control-label">Product name<span><b>*</b></span></label>
                    <div class="col-lg-9">
                      <select class="form-control select2" name="product_id" id="product_id_elo" style="width:100%;height:100%;">
						    <option value="">select option</option>
						    <option th:each="prod : ${productList}" th:value="${prod.prod_id}" th:text="${prod.name}"></option>
					  </select>
                    </div>
                  </div>
                  <div class="form-group row">
                    <label class="col-lg-3 col-form-label form-control-label">Product Issue Quantity<span><b>*</b></span></label>
                    <div class="col-lg-9">
                      <input id="product_quantity" name="product_quantity" class="form-control" type="text" value="0">
                    </div>
                  </div>
                  <div class="form-group row">
                    <label class="col-lg-3 col-form-label form-control-label">Vendor Name<span><b>*</b></span></label>
                    <div class="col-lg-9">
                      <input id="vendor_name" name="vendor_name" class="form-control" type="text" value="">
                    </div>
                  </div>
                  <div class="form-group row">
                    <label class="col-lg-3 col-form-label form-control-label">Vehicle No.</label>
                    <div class="col-lg-9">
                    	<input id="vehicle_no" name="vehicle_no" class="form-control" type="text" value="">
                    </div>
                  </div>
                  <hr>
                  </div>
                  <div class="form-group row">
	                    <div class="col-lg-2">
	                      <button id="btn_prod_add_local" type="button" class="btn btn-info">Add Product(s)</button>
	                    </div>
	                    <div class="col-lg-10"></div>
	              </div>
	              <hr>
	              <div class="form-group row">
                    <label class="col-lg-3 col-form-label form-control-label">Remarks.</label>
                    <div class="col-lg-9">
                    	<textarea id="remarks" name="remarks" class="form-control" rows="4" cols="50">NA</textarea>
                    </div>
                  </div>
                  <div class="form-group row">
                    <label class="col-lg-3 col-form-label form-control-label"></label>
                    <div class="col-lg-9">
                      <input class="btn btn-secondary" type="reset" value="Cancel"> 
											<input class="btn btn-primary" type="submit" value="Save Changes">
                    </div>
                  </div>
                </form>
              </div>
           </div>
       </div>
       <div id="addProductReturn" style="display:none;" class="col main pt-5 mt-3">
       			<div class="card">
				    <div class="card-header">
				      <a class="card-link" data-toggle="collapse" data-target="#collapseAddFuel">
				      	View Product Return&nbsp&nbsp&nbsp&nbsp&nbsp<i class='fas fa-angle-down'></i>
				      </a>
				    </div>
				    <div id="collapseAddFuel" class="collapse">
				      <div class="card-body">
				        	<div class="row my-4">
				                <div class="col-lg-3 col-md-4">
				                    <div class="card">
				                        <div class="card-body">
				                            <h4 class="card-title">Total Products Returned</h4>
				                            <p class="card-text" style="font-size:50px;"><b th:text="${products_returned}"></b></p>
				                        </div>
				                    </div>
				                </div>
				                <div class="col-lg-9 col-md-8">
				                    <div class="table-responsive">
				                        <table class="table table-striped">
				                            <thead class="thead-inverse">
				                                <tr>
				                                    <th>Product Id</th>
				                                    <th>Product Name</th>
				                                    <th>Quantity Returned</th>
				                                    <th>Return Date</th>
				                                    <th>Contractor Name</th>
				                                    <th>Receiving Person Name</th>
				                                </tr>
				                            </thead>
				                            <tbody>
				                            	<tr th:each="pr : ${productReturnList}">
				                            		<td th:text="${pr.prod_id}"></td>
				                            		<td th:text="${pr.prod_name}"></td>
				                            		<td th:text="${pr.return_quantity}"></td>
				                            		<td th:text="${pr.return_date}"></td>
				                            		<td th:text="${pr.contractor_name}"></td>
				                            		<td th:text="${pr.receiving_person_name}"></td>
				                            	</tr>
				                            </tbody>
				                        </table>
				                    </div>
				                </div>
				            </div>
				      </div>
				    </div>
				  </div><br>
	        	<div class="card card-outline-secondary">
	              <div class="card-header">
	                <h3 class="mb-0">Add Product Return</h3>
	              </div>
	              <div class="card-body">
	                <form autocomplete="off" th:action="@{/returnProduct}" method="post" class="form" role="form">
	                  <div class="fuelEntryDivStart">
	                  	  <div class="form-group row">
		                    <label class="col-lg-3 col-form-label form-control-label">Product Added Through<span><b>*</b></span></label>
		                    <div class="col-lg-9">
		                      <input id="prod_add_through" name="prod_add_through" class="form-control" type="text" value="Sub-Contractor" readonly>
		                    </div>
		                  </div>
		                  <div class="form-group row">
		                    <label class="col-lg-3 col-form-label form-control-label">Product Type<span><b>*</b></span></label>
		                    <div class="col-lg-9">
		                      <input id="prod_type" name="prod_type" class="form-control" type="text" value="Refundable" readonly>
		                    </div>
		                  </div>
		                  <div class="form-group row">
		                    <label class="col-lg-3 col-form-label form-control-label">Product Name<span><b>*</b></span></label>
		                    <div class="col-lg-9">
		                      <select class="form-control select2" name="product_id" id="product_id_return" style="width:100%;height:100%;">
								    <option value="">select option</option>
								    <option th:each="prod : ${refundableProductList}" th:value="${prod.prod_id}" th:text="${prod.name}"></option>
							  </select>
		                    </div>
		                  </div>
		                  <input id="product_name_return" name="product_name" class="form-control" type="hidden" value="0">
		                  <div class="form-group row">
		                    <label class="col-lg-3 col-form-label form-control-label">Return Quantity<span><b>*</b></span></label>
		                    <div class="col-lg-9">
		                      <input id="return_quantity" name="return_quantity" class="form-control" type="text" value="0">
		                    </div>
		                  </div>
		                  <div class="form-group row">
		                    <label class="col-lg-3 col-form-label form-control-label">Units<span><b>*</b></span></label>
		                    <div class="col-lg-9">
		                      <input id="units_return" name="units" class="form-control" type="text" value="0" readonly>
		                    </div>
		                  </div>		     
		                  <div class="form-group row">
		                    <label class="col-lg-3 col-form-label form-control-label">Return Date<span><b>*</b></span></label>
		                    <div class="col-lg-9">
		                      <input id="return_date" name="return_date" class="form-control" type="date" value="">
		                    </div>
		                  </div>
		                  <div class="form-group row">
		                    <label class="col-lg-3 col-form-label form-control-label">Contractor Name<span><b>*</b></span></label>
		                    <div class="col-lg-9">
		                      <select class="form-control select2" name="contractor_name" id="contractor_name" style="width:100%;height:100%;">
								    <option value="">select option</option>
								    <option th:each="contractor : ${contractorList}" th:value="${contractor.name}" th:text="${contractor.name}"></option>
							  </select>
		                    </div>
		                  </div>
		                  <div class="form-group row">
		                    <label class="col-lg-3 col-form-label form-control-label">Receiving Person Name<span><b>*</b></span></label>
		                    <div class="col-lg-9">
		                      <input id="receiving_person_name" name="receiving_person_name" class="form-control" type="text" value="">
		                    </div>
		                  </div>
		                  <hr>
	                  </div>
	                  <!--  <div class="form-group row">
	                    <div class="col-lg-2">
	                      <button id="btn_fuel_entry_add" type="button" class="btn btn-info">Add Entry(s)</button>
	                    </div>
	                    <div class="col-lg-10"></div>
		              </div>-->
		              <hr>
		              <div class="form-group row">
		                    <label class="col-lg-3 col-form-label form-control-label"></label>
		                    <div class="col-lg-9">
		                      <input class="btn btn-secondary" type="reset" value="Cancel"> 
													<input class="btn btn-primary" type="submit" value="Save Changes">
		                    </div>
		                  </div>
	                </form>
	              </div>
	           </div>
        </div>
       <div id="addFuelEntry" style="display:none;" class="col main pt-5 mt-3">
       			<div class="card">
				    <div class="card-header">
				      <a class="card-link" data-toggle="collapse" data-target="#collapseAddFuel">
				      	View Fuel Entry&nbsp&nbsp&nbsp&nbsp&nbsp<i class='fas fa-angle-down'></i>
				      </a>
				    </div>
				    <div id="collapseAddFuel" class="collapse">
				      <div class="card-body">
				        	<div class="row my-4">
				                <div class="col-lg-3 col-md-4">
				                    <div class="card">
				                        <div class="card-body">
				                            <h4 class="card-title">Total Petrol Availability</h4>
				                            <p class="card-text" style="font-size:50px;"><b th:text="${petrol_quantity}"></b></p>
				                        </div>
				                    </div>
				                    <div class="card card-inverse bg-inverse mt-3">
				                        <div class="card-body">
				                            <h3 class="card-title">Total Diesel Availability</h3>
				                            <p class="card-text" style="font-size:50px;	"><b th:text="${diesel_quantity}"></b></p>
				                        </div>
				                    </div>
				                </div>
				                <div class="col-lg-9 col-md-8">
				                    <div class="table-responsive">
				                        <table class="table table-striped">
				                            <thead class="thead-inverse">
				                                <tr>
				                                    <th>Fuel Type</th>
				                                    <th>Issue Quantity</th>
				                                    <th>Invoice No</th>
				                                    <th>Invoice Date</th>
				                                    <th>Vendor Name</th>
				                                    <th>Vehicle No.</th>
				                                </tr>
				                            </thead>
				                            <tbody>
				                            	<tr th:each="fer : ${fuelEntryList}">
				                            		<td th:text="${fer.fuel_type}"></td>
				                            		<td th:text="${fer.quantity}"></td>
				                            		<td th:text="${fer.invoice_no}"></td>
				                            		<td th:text="${fer.invoice_date}"></td>
				                            		<td th:text="${fer.vendor_name}"></td>
				                            		<td th:text="${fer.vehicle_no}"></td>
				                            	</tr>
				                            </tbody>
				                        </table>
				                    </div>
				                </div>
				            </div>
				      </div>
				    </div>
				  </div><br>
	        	<div class="card card-outline-secondary">
	              <div class="card-header">
	                <h3 class="mb-0">Add Fuel Entry</h3>
	              </div>
	              <div class="card-body">
	                <form autocomplete="off" th:action="@{/addFuelEntry}" method="post" class="form" role="form">
	                  <div class="fuelEntryDivStart">
		                  <div class="form-group row">
		                    <label class="col-lg-3 col-form-label form-control-label">Fuel Type<span><b>*</b></span></label>
		                    <div class="col-lg-9">
		                      <select class="form-control" name="fuel_type" id="fuel_type">
								    <option value="">select option</option>
								    <option value="diesel">Diesel</option>
								    <option value="petrol">Petrol</option>
							  </select>
		                    </div>
		                  </div>
		                  <div class="form-group row">
		                    <label class="col-lg-3 col-form-label form-control-label">Fuel Issue Quantity<span><b>*</b></span></label>
		                    <div class="col-lg-9">
		                      <input id="fuel_quantity" name="fuel_quantity" class="form-control" type="text" value="0">
		                    </div>
		                  </div>
		                  <div class="form-group row">
		                    <label class="col-lg-3 col-form-label form-control-label">Invoice Number<span><b>*</b></span></label>
		                    <div class="col-lg-9">
		                      <input id="invoice_no" name="invoice_no" class="form-control" type="text" value="">
		                    </div>
		                  </div>
		                  <div class="form-group row">
		                    <label class="col-lg-3 col-form-label form-control-label">Invoice Date<span><b>*</b></span></label>
		                    <div class="col-lg-9">
		                      <input id="invoice_date" name="invoice_date" class="form-control" type="date" value="">
		                    </div>
		                  </div>
		                  <div class="form-group row">
		                    <label class="col-lg-3 col-form-label form-control-label">Vendor Name<span><b>*</b></span></label>
		                    <div class="col-lg-9">
		                      <input id="vendor_name" name="vendor_name" class="form-control" type="text" value="">
		                    </div>
		                  </div>
		                  <div class="form-group row">
		                    <label class="col-lg-3 col-form-label form-control-label">Vehicle No.</label>
		                    <div class="col-lg-9">
		                      <input id="vehicle_no" name="vehicle_no" class="form-control" type="text" value="">
		                    </div>
		                  </div>
		            
		                  <hr>
	                  </div>
	                  <div class="form-group row">
	                    <div class="col-lg-2">
	                      <button id="btn_fuel_entry_add" type="button" class="btn btn-info">Add Entry(s)</button>
	                    </div>
	                    <div class="col-lg-10"></div>
		              </div>
		              <hr>
		              <div class="form-group row">
		                    <label class="col-lg-3 col-form-label form-control-label"></label>
		                    <div class="col-lg-9">
		                      <input class="btn btn-secondary" type="reset" value="Cancel"> 
													<input class="btn btn-primary" type="submit" value="Save Changes">
		                    </div>
		                  </div>
	                </form>
	              </div>
	           </div>
        </div>
        <div id="addFuelExit" style="display:none;" class="col main pt-5 mt-3">
       			<div class="card">
				    <div class="card-header">
				      <a class="card-link" data-toggle="collapse" data-target="#collapseExitFuel">
				      	View Fuel Exit&nbsp&nbsp&nbsp&nbsp&nbsp<i class='fas fa-angle-down'></i>
				      </a>
				    </div>
				    <div id="collapseExitFuel" class="collapse">
				      <div class="card-body">
				        	<div class="row my-4">
				                <div class="col-lg-3 col-md-4">
				                    <div class="card">
				                        <div class="card-body">
				                            <h4 class="card-title">Total Petrol Availability</h4>
				                            <p class="card-text" style="font-size:50px;"><b th:text="${petrol_quantity}"></b></p>
				                        </div>
				                    </div>
				                    <div class="card card-inverse bg-inverse mt-3">
				                        <div class="card-body">
				                            <h3 class="card-title">Total Diesel Availability</h3>
				                            <p class="card-text" style="font-size:50px;	"><b th:text="${diesel_quantity}"></b></p>
				                        </div>
				                    </div>
				                </div>
				                <div class="col-lg-9 col-md-8">
				                    <div class="table-responsive">
				                        <table class="table table-striped">
				                            <thead class="thead-inverse">
				                                <tr>
				                                	<th>Fuel Exit Type</th>
				                                    <th>Fuel Type</th>
				                                    <th>Vehicle No.</th>
				                                    <th>Opening Reading</th>
				                                    <th>Mileage</th>
				                                    <th>Fuel Issue</th>
				                                    <th>Issue Date</th>
				                                    <th>Vehicle Type</th>
				                                </tr>
				                            </thead>
				                            <tbody>
				                            	<tr th:each="fexr : ${fuelExitList}">
				                            		<td th:text="${fexr.exit_type}"></td>
				                            		<td th:text="${fexr.fuel_type}"></td>
				                            		<td th:text="${fexr.vehicle_no}"></td>
				                            		<td th:text="${fexr.opening_reading}"></td>
				                            		<td th:text="${fexr.mileage}"></td>
				                            		<td th:text="${fexr.fuel_issue}"></td>
				                            		<td th:text="${fexr.issue_date}"></td>
				                            		<td th:text="${fexr.vehicle_type}"></td>
				                            	</tr>
				                            </tbody>
				                        </table>
				                    </div>
				                </div>
				            </div>
				      </div>
				    </div>
				  </div><br>
	        	<div class="card card-outline-secondary">
	              <div class="card-header">
	                <h3 class="mb-0">Add Fuel Exit</h3>
	              </div>
	              <div class="card-body">
	                <form autocomplete="off" th:action="@{/addFuelExit}" method="post" class="form" role="form">
	                <div class="fuelExitDivStart">
	                <div class="form-group row">
	                    <label class="col-lg-3 col-form-label form-control-label">Type of Fuel Exit<span><b>*</b></span></label>
	                    <div class="col-lg-9">
	                      <select class="form-control" name="exit_type" id="exit_type">
							    <option value="">select option</option>
							    <option value="petrol_diesel">Petrol / Diesel</option>
							    <option value="misc">Miscellaneous</option>
						  </select>
	                    </div>
	                  </div>
	                  <hr><br>
	                  <div class="form-group row">
	                    <label class="col-lg-3 col-form-label form-control-label">Fuel Type<span><b>*</b></span></label>
	                    <div class="col-lg-9">
	                      <select class="form-control" name="fuel_type" id="fuel_type">
							    <option value="">select option</option>
							    <option value="diesel">Diesel</option>
							    <option value="petrol">Petrol</option>
						  </select>
	                    </div>
	                  </div>
	                  <div class="form-group row">
	                    <label class="col-lg-3 col-form-label form-control-label">Vehicle No.<span><b>*</b></span></label>
	                    <div class="col-lg-9">
	                      <select class="form-control" name="vehicle_no" id="vehicle_no">
							    <option value="">select option</option>
							    <option th:each="vehicle : ${vehicleList}" th:value="${vehicle.vehicle_no}" th:text="${vehicle.vehicle_no}"></option>
						  </select>
	                    </div>
	                  </div>
	                  <div class="form-group row">
	                    <label class="col-lg-3 col-form-label form-control-label">Opening Reading<span><b>*</b></span></label>
	                    <div class="col-lg-9">
	                      <input id="opening_reading" name="opening_reading" class="form-control" type="text" value="">
	                    </div>
	                  </div>
	                  <div class="form-group row">
	                    <label class="col-lg-3 col-form-label form-control-label">Mileage<span><b>*</b></span></label>
	                    <div class="col-lg-9">
	                      <input id="mileage" name="mileage" class="form-control" type="text" value="">
	                    </div>
	                  </div>
	                  <div class="form-group row">
	                    <label class="col-lg-3 col-form-label form-control-label">Fuel Issue<span><b>*</b></span></label>
	                    <div class="col-lg-9">
	                      <input id="fuel_issue" name="fuel_issue" class="form-control" type="text" value="0">
	                    </div>
	                  </div>
	                  <div class="form-group row">
	                    <label class="col-lg-3 col-form-label form-control-label">Issue Date<span><b>*</b></span></label>
	                    <div class="col-lg-9">
	                      <input id="issue_date" name="issue_date" class="form-control" type="date" value="">
	                    </div>
	                  </div>
	                  <div class="form-group row">
	                    <label class="col-lg-3 col-form-label form-control-label">Type of Vehicle<span><b>*</b></span></label>
	                    <div class="col-lg-9">
	                      <select class="form-control" name="vehicle_type" id="vehicle_type">
							    <option value="">select option</option>
							    <option th:each="vehicleType : ${distinctVehicleTypeList}" th:value="${vehicleType}" th:text="${vehicleType}"></option>
						  </select>
	                    </div>
	                  </div>
	                  <hr>
	                  </div>
	                  <div class="form-group row">
	                    <div class="col-lg-2">
	                      <button id="btn_fuel_exit_add" type="button" class="btn btn-info">Add Exit(s)</button>
	                    </div>
	                    <div class="col-lg-10"></div>
		              </div>
		              <hr>
	                  <div class="form-group row">
	                    <label class="col-lg-3 col-form-label form-control-label"></label>
	                    <div class="col-lg-9">
	                      <input class="btn btn-secondary" type="reset" value="Cancel"> 
												<input class="btn btn-primary" type="submit" value="Save Changes">
	                    </div>
	                  </div>
	                </form>
	              </div>
	           </div>
        </div>
        <div id="addProductExitByChallan" style="display:none;" class="col main pt-5 mt-3">
        		<div class="card">
				    <div class="card-header">
				      <a class="card-link" data-toggle="collapse" data-target="#collapseExitChallan">
				      	View Exit By Challan&nbsp&nbsp&nbsp&nbsp&nbsp<i class='fas fa-angle-down'></i>
				      </a>
				    </div>
				    <div id="collapseExitChallan" class="collapse">
				      <div class="card-body">
				        	<table class="table table-striped">
								<thead style="background-color:#5c6499;color:#ffffff;">
									<tr>
										<th>Challan No</th>
										<th>Total Products</th>
										<th>Total Issue Quantity</th>
										<th></th>
										<th></th>
									</tr>
								</thead>
							    <tbody>
							      <tr th:each="challan: ${briefProdExitChallanList}">
							        <td><p th:text="${challan.challan_no}"></p></td>
							        <td><p th:text="${challan.total_prod}"></p></td>
							        <td><p th:text="${challan.total_quantity}"></p></td>
							        <td><a th:href="@{/editProdExitChallan(challan_no=${challan.challan_no})}" th:target="_blank"><i class="fa-solid fa-eye fa-xl"></i></a></td>
							        <td><a th:href="@{/billDetails(challan_no=${challan.challan_no},type='byChallan')}" th:target="_blank"><i class="fa-solid fa-file-arrow-down fa-xl"></i></a></td>
							      </tr>
							    </tbody>
					  		</table>
				      </div>
				    </div>
				  </div><br>
	        	<div class="card card-outline-secondary">
	              <div class="card-header">
	                <h3 class="mb-0">Add Product Exit By Challan</h3>
	              </div>
	              <div class="card-body">
	                <form autocomplete="off" id="formExitByChallan" class="form" role="form">
	                  <div class="form-group row">
	                    <label class="col-lg-3 col-form-label form-control-label">Exit Date<span><b>*</b></span></label>
	                    <div class="col-lg-9">
	                      <input id="exit_date" name="exit_date" class="form-control" type="date" value="">
	                    </div>
	                  </div>
	                  <hr>
			          <h3><b>#1</b></h3>
			          <div class="exitByChallan">
	                  <div class="form-group row">
	                    <label class="col-lg-3 col-form-label form-control-label">Product name<span><b>*</b></span></label>
	                    <div class="col-lg-9">
	                      <select class="form-control select2" name="product_id" id="product_id_exch" style="width:100%;height:100%;">
							    <option value="">select option</option>
							    <option th:each="prod : ${productList}" th:value="${prod.prod_id}" th:text="${prod.name}"></option>
						  </select>
	                    </div>
	                  </div>
	                  <div class="form-group row">
	                    <label class="col-lg-3 col-form-label form-control-label">Product Issue Quantity<span><b>*</b></span></label>
	                    <div class="col-lg-9">
	                      <input id="product_quantity1" name="product_quantity" class="form-control" type="text" value="0" onclick="checkAvailableQuantity(event)">
	                    </div>
	                  </div>
	                  <div class="form-group row">
	                    <label class="col-lg-3 col-form-label form-control-label">To Location<span><b>*</b></span></label>
	                    <div class="col-lg-9">
	                      <select class="form-control" name="to_location" id="to_location">
							    <option value="">select option</option>
							    <option th:each="location : ${locationList}" th:value="${location.location_name}" th:text="${location.location_name}"></option>
						  </select>
	                    </div>
	                  </div>
	                  <div class="form-group row">
	                    <label class="col-lg-3 col-form-label form-control-label">Vehicle No.<span><b>*</b></span></label>
	                    <div class="col-lg-9">
	                      <select class="form-control" name="vehicle_no" id="vehicle_no">
							    <option value="">select option</option>
							    <option th:each="vehicle : ${vehicleList}" th:value="${vehicle.vehicle_no}" th:text="${vehicle.vehicle_no}"></option>
						  </select>
	                    </div>
	                  </div>
	                  <hr>
	                  </div>
	                  <div class="form-group row">
	                    <div class="col-lg-2">
	                      <button id="btn_prod_exit_challan" type="button" class="btn btn-info">Add Product(s)</button>
	                    </div>
	                    <div class="col-lg-10"></div>
	                  </div>
	                  <div class="form-group row">
	                    <label class="col-lg-3 col-form-label form-control-label"></label>
	                    <div class="col-lg-9">
	                      <input class="btn btn-secondary" type="reset" value="Cancel"> 
												<input class="btn btn-primary" type="submit" value="Save Changes">
	                    </div>
	                  </div>
	                </form>
	              </div>
	           </div>
        </div>
        <div id="addProductExitByContractor" style="display:none;" class="col main pt-5 mt-3">
        		<div class="card">
				    <div class="card-header">
				      <a class="card-link" data-toggle="collapse" data-target="#collapseExitContractor">
				      	View Exit By Sub - Contractor&nbsp&nbsp&nbsp&nbsp&nbsp<i class='fas fa-angle-down'></i>
				      </a>
				    </div>
				    <div id="collapseExitContractor" class="collapse">
				      <div class="card-body">
				        	<table class="table table-striped">
								<thead style="background-color:#5c6499;color:#ffffff;">
									<tr>
										<th>Challan No</th>
										<th>Total Products</th>
										<th>Total Issue Quantity</th>
										<th></th>
										<th></th>
									</tr>
								</thead>
							    <tbody>
							      <tr th:each="challan: ${briefProdExitContractorList}">
							        <td><p th:text="${challan.challan_no}"></p></td>
							        <td><p th:text="${challan.total_prod}"></p></td>
							        <td><p th:text="${challan.total_quantity}"></p></td>
							        <td><a th:href="@{/editProdExitBySubContractor(challan_no=${challan.challan_no})}" th:target="_blank"><i class="fa-solid fa-eye fa-xl"></i></a></td>
							        <td><a th:href="@{/billDetails(challan_no=${challan.challan_no},type='byContractor')}" th:target="_blank"><i class="fa-solid fa-file-arrow-down fa-xl"></i></a></td>
							      </tr>
							    </tbody>
					  		</table>
				      </div>
				    </div>
				  </div><br>
	        	<div class="card card-outline-secondary">
	              <div class="card-header">
	                <h3 class="mb-0">Add Product Exit By Sub - Contractor</h3>
	              </div>
	              <div class="card-body">
	                <form autocomplete="off" id="formExitByContractor" th:action="@{/addProductExitByContractor}" method="post" class="form" role="form">
	                  <div class="form-group row">
	                    <label class="col-lg-3 col-form-label form-control-label">Exit Date<span><b>*</b></span></label>
	                    <div class="col-lg-9">
	                      <input id="exit_date" name="exit_date" class="form-control" type="datetime-local" value="">
	                    </div>
	                  </div>
	                  <hr>
			          <h3><b>#1</b></h3>
			          <div class="exitByContractor">
	                  <div class="form-group row">
	                    <label class="col-lg-3 col-form-label form-control-label">Product name<span><b>*</b></span></label>
	                    <div class="col-lg-9">
	                      <select class="form-control select2" name="product_id" id="product_id_exco" style="width:100%;height:100%;">
							    <option value="">select option</option>
							    <option th:each="prod : ${productList}" th:value="${prod.prod_id}" th:text="${prod.name}"></option>
						  </select>
	                    </div>
	                  </div>
	                  <div class="form-group row">
	                    <label class="col-lg-3 col-form-label form-control-label">Product Issue Quantity<span><b>*</b></span></label>
	                    <div class="col-lg-9">
	                      <input id="product_quantity2" name="product_quantity" class="form-control" type="text" value="0" onclick="checkAvailableQuantity(event)">
	                    </div>
	                  </div>
	                  <div class="form-group row">
	                    <label class="col-lg-3 col-form-label form-control-label">Contractor Name<span><b>*</b></span></label>
	                    <div class="col-lg-9">
	                      <select class="form-control" name="contractor_name" id="contractor_name">
							    <option value="">select option</option>
							    <option th:each="contractor : ${contractorList}" th:value="${contractor.name}" th:text="${contractor.name}"></option>
						  </select>
	                    </div>
	                  </div>
	                  <div class="form-group row">
	                    <label class="col-lg-3 col-form-label form-control-label">Receiving Person Name<span><b>*</b></span></label>
	                    <div class="col-lg-9">
	                      <input id="receiving_person" name="receiving_person" class="form-control" type="text" value="0">
	                    </div>
	                  </div>
	                  <hr>
	                  </div>
	                  <div class="form-group row">
	                    <div class="col-lg-2">
	                      <button id="btn_prod_exit_contractor" type="button" class="btn btn-info">Add Product(s)</button>
	                    </div>
	                    <div class="col-lg-10"></div>
	                  </div>
	                  <div class="form-group row">
	                    <label class="col-lg-3 col-form-label form-control-label"></label>
	                    <div class="col-lg-9">
	                      <input class="btn btn-secondary" type="reset" value="Cancel"> 
												<input class="btn btn-primary" type="submit" value="Save Changes">
	                    </div>
	                  </div>
	                </form>
	              </div>
	           </div>
        </div>
        <div id="addProductExitByStaff" style="display:none;" class="col main pt-5 mt-3">
        		<div class="card">
				    <div class="card-header">
				      <a class="card-link" data-toggle="collapse" data-target="#collapseExitStaff">
				      	View Exit By Employee&nbsp&nbsp&nbsp&nbsp&nbsp<i class='fas fa-angle-down'></i>
				      </a>
				    </div>
				    <div id="collapseExitStaff" class="collapse">
				      <div class="card-body">
				        	<table class="table table-striped">
								<thead style="background-color:#5c6499;color:#ffffff;">
									<tr>
										<th>Challan No</th>
										<th>Total Products</th>
										<th>Total Issue Quantity</th>
										<th></th>
										<th></th>
									</tr>
								</thead>
							    <tbody>
							      <tr th:each="challan: ${briefProdExitStaffList}">
							        <td><p th:text="${challan.challan_no}"></p></td>
							        <td><p th:text="${challan.total_prod}"></p></td>
							        <td><p th:text="${challan.total_quantity}"></p></td>
							        <td><a th:href="@{/editProdExitByStaff(challan_no=${challan.challan_no})}" th:target="_blank"><i class="fa-solid fa-eye fa-xl"></i></a></td>
							      	<td><a th:href="@{/billDetails(challan_no=${challan.challan_no},type='byStaff')}" th:target="_blank"><i class="fa-solid fa-file-arrow-down fa-xl"></i></a></td>
							      </tr>
							    </tbody>
					  		</table>
				      </div>
				    </div>
				  </div><br>
	        	<div class="card card-outline-secondary">
	              <div class="card-header">
	                <h3 class="mb-0">Add Product Exit By Employee</h3>
	              </div>
	              <div class="card-body">
	                <form autocomplete="off" id="formExitByStaff" th:action="@{/addProductExitByStaff}" method="post" class="form" role="form">
	                  <div class="form-group row">
	                    <label class="col-lg-3 col-form-label form-control-label">Exit Date<span><b>*</b></span></label>
	                    <div class="col-lg-9">
	                      <input id="exit_date" name="exit_date" class="form-control" type="datetime-local" value="">
	                    </div>
	                  </div>
	                  <hr>
			          <h3><b>#1</b></h3>
			          <div class="exitByStaff">
	                  <div class="form-group row">
	                    <label class="col-lg-3 col-form-label form-control-label">Product name<span><b>*</b></span></label>
	                    <div class="col-lg-9">
	                      <select class="form-control select2" name="product_id" id="product_id_exemp" style="width:100%;height:100%;">
							    <option value="">select option</option>
							    <option th:each="prod : ${productList}" th:value="${prod.prod_id}" th:text="${prod.name}"></option>
						  </select>
	                    </div>
	                  </div>
	                  <div class="form-group row">
	                    <label class="col-lg-3 col-form-label form-control-label">Product Issue Quantity<span><b>*</b></span></label>
	                    <div class="col-lg-9">
	                      <input id="product_quantity3" name="product_quantity" class="form-control" type="text" value="0" onclick="checkAvailableQuantity(event)">
	                    </div>
	                  </div>
	                  <div class="form-group row">
	                    <label class="col-lg-3 col-form-label form-control-label">Staff Name<span><b>*</b></span></label>
	                    <div class="col-lg-9">
	                      <select class="form-control" name="staff_emp_code" id="staff_emp_code">
							    <option value="">select option</option>
							    <option th:each="staff : ${staffList}" th:value="${staff.emp_code}" th:text="${staff.name}"></option>
						  </select>
	                    </div>
	                  </div>
	                  <div class="form-group row">
	                    <label class="col-lg-3 col-form-label form-control-label">Receiving Person Name<span><b>*</b></span></label>
	                    <div class="col-lg-9">
	                      <input id="receiving_person" name="receiving_person" class="form-control" type="text" value="0">
	                    </div>
	                  </div>
	                  <hr>
	                  </div>
	                  <div class="form-group row">
	                    <div class="col-lg-2">
	                      <button id="btn_prod_exit_staff" type="button" class="btn btn-info">Add Product(s)</button>
	                    </div>
	                    <div class="col-lg-10"></div>
	                  </div>
	                  <div class="form-group row">
	                    <label class="col-lg-3 col-form-label form-control-label"></label>
	                    <div class="col-lg-9">
	                      <input class="btn btn-secondary" type="reset" value="Cancel"> 
												<input class="btn btn-primary" type="submit" value="Save Changes">
	                    </div>
	                  </div>
	                </form>
	              </div>
	           </div>
        </div>
        <div id="addProductExitByMiscellaneous" style="display:none;" class="col main pt-5 mt-3">
        		<div class="card">
				    <div class="card-header">
				      <a class="card-link" data-toggle="collapse" data-target="#collapseExitMisc">
				      	View Exit By Miscellaneous&nbsp&nbsp&nbsp&nbsp&nbsp<i class='fas fa-angle-down'></i>
				      </a>
				    </div>
				    <div id="collapseExitMisc" class="collapse">
				      <div class="card-body">
				        	<table class="table table-striped">
								<thead style="background-color:#5c6499;color:#ffffff;">
									<tr>
										<th>Challan No</th>
										<th>Total Products</th>
										<th>Total Issue Quantity</th>
										<th></th>
										<th></th>
									</tr>
								</thead>
							    <tbody>
							      <tr th:each="challan: ${briefProdExitMiscList}">
							        <td><p th:text="${challan.challan_no}"></p></td>
							        <td><p th:text="${challan.total_prod}"></p></td>
							        <td><p th:text="${challan.total_quantity}"></p></td>
							        <td><a th:href="@{/editProdExitByMisc(challan_no=${challan.challan_no})}" th:target="_blank"><i class="fa-solid fa-eye fa-xl"></i></a></td>
							        <td><a th:href="@{/billDetails(challan_no=${challan.challan_no},type='byMisc')}" th:target="_blank"><i class="fa-solid fa-file-arrow-down fa-xl"></i></a></td>
							      </tr>
							    </tbody>
					  		</table>
				      </div>
				    </div>
				  </div><br>
	        	<div class="card card-outline-secondary">
	              <div class="card-header">
	                <h3 class="mb-0">Add Product Exit By Miscellaneous</h3>
	              </div>
	              <div class="card-body">
	                <form autocomplete="off" id="formExitByMiscellaneous" th:action="@{/addProductExitByMiscellaneous}" method="post" class="form" role="form">
	                  <div class="form-group row">
	                    <label class="col-lg-3 col-form-label form-control-label">Exit Date<span><b>*</b></span></label>
	                    <div class="col-lg-9">
	                      <input id="exit_date" name="exit_date" class="form-control" type="datetime-local" value="">
	                    </div>
	                  </div>
	                  <hr>
			          <h3><b>#1</b></h3>
			          <div class="exitByMisc">
	                  <div class="form-group row">
	                    <label class="col-lg-3 col-form-label form-control-label">Product name<span><b>*</b></span></label>
	                    <div class="col-lg-9">
	                      <select class="form-control select2" name="product_id" id="product_id_exmisc" style="width:100%;height:100%;">
							    <option value="">select option</option>
							    <option th:each="prod : ${productList}" th:value="${prod.prod_id}" th:text="${prod.name}"></option>
						  </select>
	                    </div>
	                  </div>
	                  <div class="form-group row">
	                    <label class="col-lg-3 col-form-label form-control-label">Product Issue Quantity<span><b>*</b></span></label>
	                    <div class="col-lg-9">
	                      <input id="product_quantity4" name="product_quantity" class="form-control" type="text" value="0" onclick="checkAvailableQuantity(event)">
	                    </div>
	                  </div>
	                  <div class="form-group row">
	                    <label class="col-lg-3 col-form-label form-control-label">Name of Work<span><b>*</b></span></label>
	                    <div class="col-lg-9">
	                      <input id="work_name" name="work_name" class="form-control" type="text" value="">
	                    </div>
	                  </div>
	                  <div class="form-group row">
	                    <label class="col-lg-3 col-form-label form-control-label">Receiving Person Name<span><b>*</b></span></label>
	                    <div class="col-lg-9">
	                      <input id="receiving_person" name="receiving_person" class="form-control" type="text" value="">
	                    </div>
	                  </div>
	                  <hr>
	                  </div>
	                  <div class="form-group row">
	                    <div class="col-lg-2">
	                      <button id="btn_prod_exit_misc" type="button" class="btn btn-info">Add Product(s)</button>
	                    </div>
	                    <div class="col-lg-10"></div>
	                  </div>
	                  <div class="form-group row">
	                    <label class="col-lg-3 col-form-label form-control-label"></label>
	                    <div class="col-lg-9">
	                      <input class="btn btn-secondary" type="reset" value="Cancel"> 
												<input class="btn btn-primary" type="submit" value="Save Changes">
	                    </div>
	                  </div>
	                </form>
	              </div>
	           </div>
        </div>
        <div id="viewProducts" style="display:none;" class="col main pt-5 mt-3">
                
            <h3 class="mb-0">Products Details</h3>

            <div class="row my-4">
                <div class="col-lg-3 col-md-4">
                    <div class="card card-inverse bg-inverse mt-3">
                        <div class="card-body">
                            <h4 class="card-title">Total Products</h4>
                            <p class="card-text" style="font-size:50px;"><b th:text="${productCount}">0</b></p>
                        </div>
                    </div>
                    <div class="card">
                        <div class="card-body">
                            <h3 class="card-title">Total Quantity of Product</h3>
                            <p class="card-text" style="font-size:50px;	"><b>0</b></p>
                        </div>
                    </div>
                </div>
                <div class="col-lg-9 col-md-8">
                    <div class="table-responsive">
                        <table id="product_table" class="table table-striped">
                            <thead class="thead-inverse">
                                <tr>
                                    <th>Product Id</th>
                                    <th>Product Name</th>
                                    <th>Product Unit</th>
                                    <th>Total Balance Quantity</th>
                                    <th>Type</th>
                                    <th>Material</th>
                                </tr>
                            </thead>
                            <tbody>
                            	<tr th:each="pr : ${productList}">
                            		<td th:text="${pr.prod_id}"></td>
                            		<td th:text="${pr.name}"></td>
                            		<td th:text="${pr.unit}"></td>
                            		<td th:text="${pr.quantity}"></td>
                            		<td th:text="${pr.type}"></td>
                            		<td th:text="${pr.material}"></td>
                            	</tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
        <div id="viewStaffs" style="display:none;" class="col main pt-5 mt-3">
                
                <h3 class="mb-0">Employee Details</h3>

            <div class="row my-4">
                <div class="col-lg-3 col-md-4">
                    <div class="card card-inverse bg-inverse mt-3">
                        <div class="card-body">
                            <h4 class="card-title">Total Staffs</h4>
                            <p class="card-text" style="font-size:50px;"><b th:text="${staffCount}">0</b></p>
                        </div>
                    </div>
                </div>
                <div class="col-lg-9 col-md-8">
                    <div class="table-responsive">
                        <table class="table table-striped">
                            <thead class="thead-inverse">
                                <tr>
                                    <th>Employee Code</th>
                                    <th>Employee Name</th>
                                    <th>Employee Designation</th>
                                </tr>
                            </thead>
                            <tbody>
                            	<tr th:each="sr : ${staffList}">
                            		<td th:text="${sr.emp_code}"></td>
                            		<td th:text="${sr.name}"></td>
                            		<td th:text="${sr.designation}"></td>
                            	</tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
        <div id="viewContractors" style="display:none;" class="col main pt-5 mt-3">
                
                <h3 class="mb-0">Sub-Contractor Details</h3>

            <div class="row my-4">
                <div class="col-lg-3 col-md-4">
                    <div class="card card-inverse bg-inverse mt-3">
                        <div class="card-body">
                            <h4 class="card-title">Total Contractors</h4>
                            <p class="card-text" style="font-size:50px;"><b th:text="${contractorCount}"></b></p>
                        </div>
                    </div>
                </div>
                <div class="col-lg-9 col-md-8">
                    <div class="table-responsive">
                        <table class="table table-striped">
                            <thead class="thead-inverse">
                                <tr>
                                    <th>Contractor Id</th>
                                    <th>Contractor Name</th>
                                    <th>Contractor Department</th>
                                    <th>Contractor Address</th>
                                </tr>
                            </thead>
                            <tbody>
                            	<tr th:each="cr : ${contractorList}">
                            		<td th:text="${cr.contractor_id}"></td>
                            		<td th:text="${cr.name}"></td>
                            		<td th:text="${cr.dept}"></td>
                            		<td th:text="${cr.address}"></td>
                            	</tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
        <div id="viewVehicles" style="display:none;" class="col main pt-5 mt-3">
                
           <h3 class="mb-0">Vehicle Details</h3>
			<div class="alert alert-danger">
				    <strong>Note:</strong> Dates marked Red indicates validity of the certificate is over.
			</div>
			<div class="alert alert-warning">
				    <strong>Note:</strong> Dates marked Orange indicates validity of the certificate is going to get over in the next 7 days.
			</div>
            <div class="row my-4">
                <div class="width-fit-content col-lg-3 col-md-4">
                    <div class="card card-inverse bg-inverse mt-3">
                        <div class="card-body">
                            <h4 class="card-title">Total Vehicles</h4>
                            <p class="card-text" style="font-size:50px;"><b th:text="${vehicleCount}">0</b></p>
                        </div>
                    </div>
                </div>
                <div class="width-fit-content col-lg-9 col-md-8">
                    <div class="table-responsive">
                        <table class="table table-striped">
                            <thead class="thead-inverse">
                                <tr>
                                    <th>Vehicle No.</th>
                                    <th>Vehicle Type.</th>
                                    <th>Driver Lisence No.</th>
                                    <th>Tyre No.</th>
                                    <th>Battery No.</th>
                                    <th>Pollution From Date</th>
                                    <th>Pollution Expiry Date</th>
                                    <th>Fitness From Date</th>
                                    <th>Fitness Expiry Date</th>
                                    <th>Insurance From Date</th>
                                    <th>Insurance Expiry Date</th>
                                    <th>Last Servicing Date</th>    
                                </tr>
                            </thead>
                            <tbody>
                            	<tr th:each="vr : ${vehicleListDto}">
                            		<td th:text="${vr.vehicle_no}"></td>
                            		<td th:text="${vr.vehicle_type}"></td>
                            		<td th:text="${vr.driver_lisence_no}"></td>
                            		<td th:text="${vr.tyre_no}"></td>
                            		<td th:text="${vr.battery_no}"></td>
                            		<td th:text="${vr.pollution_from_date}"></td>
                            		<td th:if="${vr.pollution_expiry_date != null}" th:text="${#temporals.format(vr.pollution_expiry_date, 'yyyy-MM-dd')}" th:classappend="${vr.pollution_expiry_date.isBefore(T(java.time.LocalDate).now())} ? 'exceeded-date' : (${vr.isPollutionExpiringInNextWeek()} ? 'expiring-soon' : 'safe-date')"></td>
                            		<td th:if="${vr.pollution_expiry_date == null}">N/A</td>
                            		<td th:text="${vr.fitness_from_date}"></td>
                            		<td th:if="${vr.fitness_end_date != null}" th:text="${#temporals.format(vr.fitness_end_date, 'yyyy-MM-dd')}" th:classappend="${vr.fitness_end_date.isBefore(T(java.time.LocalDate).now())} ? 'exceeded-date' : (${vr.isFitnessExpiringInNextWeek()} ? 'expiring-soon' : 'safe-date')"></td>
                            		<td th:if="${vr.fitness_end_date == null}">N/A</td>
                            		<td th:text="${vr.insurance_from_date}"></td>
                            		<td th:if="${vr.insurance_end_date != null}" th:text="${#temporals.format(vr.insurance_end_date, 'yyyy-MM-dd')}" th:classappend="${vr.insurance_end_date.isBefore(T(java.time.LocalDate).now())} ? 'exceeded-date' : (${vr.isInsuranceExpiringInNextWeek()} ? 'expiring-soon' : 'safe-date')"></td>
                            		<td th:if="${vr.insurance_end_date == null}">N/A</td>
                            		<td th:text="${vr.last_servicing_date}"></td>
                            	</tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
        <div id="viewLocations" style="display:none;" class="col main pt-5 mt-3">
                
                <h3 class="mb-0">Location Details</h3>

            <div class="row my-4">
                <div class="col-lg-3 col-md-4">
                    <div class="card card-inverse bg-inverse mt-3">
                        <div class="card-body">
                            <h4 class="card-title">Total Locations</h4>
                            <p class="card-text" style="font-size:50px;"><b th:text="${locationCount}">0</b></p>
                        </div>
                    </div>
                </div>
                <div class="col-lg-9 col-md-8">
                    <div class="table-responsive">
                        <table class="table table-striped">
                            <thead class="thead-inverse">
                                <tr>
                                    <th>Location Id.</th>
                                    <th>Location Name.</th>
                                </tr>
                            </thead>
                            <tbody>
                            	<tr th:each="lr : ${locationList}">
                            		<td th:text="${lr.id}"></td>
                            		<td th:text="${lr.location_name}"></td>
                            	</tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
        <!--/main col-->
    </div>
</div>


<!-- Modal -->
<div class="modal fade" id="myModal" tabindex="-1" role="dialog">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="myModalLabel">Modal</h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                    <span class="sr-only">Close</span>
                </button>
            </div>
            <div class="modal-body">
                <p>This is a dashboard layout for Bootstrap 4. This is an example of the Modal component which you can use to show content.
                Any content can be placed inside the modal and it can use the Bootstrap grid classes.</p>
                <p>
                    <a href="https://www.codeply.com/go/KrUO8QpyXP" target="_ext">Grab the code at Codeply</a>
                </p>
            </div>
            <div class="modal-footer">
                1<button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                <button type="button" class="btn btn-primary-outline" data-dismiss="modal">OK</button>
            </div>
        </div>
    </div>
</div>
<script>
    $('.select2').select2();
</script>
</body>
</html>